!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).htmlToImage={})}(this,(function(t){"use strict";function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)}a((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(u=0)),u;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){u.label=c[1];break}if(6===c[0]&&u.label<i[1]){u.label=i[1],i=c;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(c);break}i[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}var r,i=(r=0,function(){return r+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(r)});function o(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function u(t,e){var n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function c(t,e){void 0===e&&(e={});var n,r,i,o=e.width||(r=u(n=t,"border-left-width"),i=u(n,"border-right-width"),n.clientWidth+r+i),c=e.height||function(t){var e=u(t,"border-top-width"),n=u(t,"border-bottom-width");return t.clientHeight+e+n}(t);return{width:o,height:c}}var a=16384;function s(t,e){return void 0===e&&(e={}),t.toBlob?new Promise((function(n){t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((function(n){for(var r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),i=r.length,o=new Uint8Array(i),u=0;u<i;u+=1)o[u]=r.charCodeAt(u);n(new Blob([o],{type:e.type?e.type:"image/png"}))}))}function l(t){return new Promise((function(e,n){var r=new Image;r.decode=function(){return e(r)},r.onload=function(){return e(r)},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}function f(t){return e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,Promise.resolve().then((function(){return(new XMLSerializer).serializeToString(t)})).then(encodeURIComponent).then((function(t){return"data:image/svg+xml;charset=utf-8,".concat(t)}))]}))}))}function h(t,r,i){return e(this,void 0,void 0,(function(){var e,o,u;return n(this,(function(n){return e="http://www.w3.org/2000/svg",o=document.createElementNS(e,"svg"),u=document.createElementNS(e,"foreignObject"),o.setAttribute("width","".concat(r)),o.setAttribute("height","".concat(i)),o.setAttribute("viewBox","0 0 ".concat(r," ").concat(i)),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),o.appendChild(u),u.appendChild(t),[2,f(o)]}))}))}var d=function(t,e){if(t instanceof e)return!0;var n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||d(n,e))};function v(t,e,n){var r=".".concat(t,":").concat(e),i=n.cssText?function(t){var e=t.getPropertyValue("content");return"".concat(t.cssText," content: '").concat(e.replace(/'|"/g,""),"';")}(n):function(t){return o(t).map((function(e){var n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return"".concat(e,": ").concat(n).concat(r?" !important":"",";")})).join(" ")}(n);return document.createTextNode("".concat(r,"{").concat(i,"}"))}function p(t,e,n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var u=i();try{e.className="".concat(e.className," ").concat(u)}catch(t){return}var c=document.createElement("style");c.appendChild(v(u,n,r)),e.appendChild(c)}}var g="application/font-woff",m="image/jpeg",w={woff:g,woff2:g,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:m,jpeg:m,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function b(t){var e=function(t){var e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return w[e]||""}function y(t){return-1!==t.search(/^(data:)/)}function x(t,e){return"data:".concat(e,";base64,").concat(t)}function S(t,r,i){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){switch(n.label){case 0:return[4,fetch(t,r)];case 1:if(404===(e=n.sent()).status)throw new Error('Resource "'.concat(e.url,'" not found'));return[4,e.blob()];case 2:return o=n.sent(),[2,new Promise((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(){try{t(i({res:e,result:r.result}))}catch(t){n(t)}},r.readAsDataURL(o)}))]}}))}))}var E={};function C(t,r,i){return e(this,void 0,void 0,(function(){var e,o,u;return n(this,(function(n){switch(n.label){case 0:if(e=function(t,e,n){var r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?"[".concat(e,"]").concat(r):r}(t,r,i.includeQueryParams),null!=E[e])return[2,E[e]];i.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,S(t,i.fetchRequestInit,(function(t){var e=t.res,n=t.result;return r||(r=e.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n)}))];case 2:return u=n.sent(),o=x(u,r),[3,4];case 3:return n.sent(),o=i.imagePlaceholder||"",[3,4];case 4:return E[e]=o,[2,o]}}))}))}function P(t){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){return"data:,"===(e=t.toDataURL())?[2,t.cloneNode(!1)]:[2,l(e)]}))}))}function R(t,r){return e(this,void 0,void 0,(function(){var e,i,o,u;return n(this,(function(n){switch(n.label){case 0:return t.currentSrc?(e=document.createElement("canvas"),i=e.getContext("2d"),e.width=t.clientWidth,e.height=t.clientHeight,null==i||i.drawImage(t,0,0,e.width,e.height),[2,l(e.toDataURL())]):(o=t.poster,u=b(o),[4,C(o,u,r)]);case 1:return[2,l(n.sent())]}}))}))}function T(t){var r;return e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),(null===(r=null==t?void 0:t.contentDocument)||void 0===r?void 0:r.body)?[4,L(t.contentDocument.body,{},!0)]:[3,2];case 1:return[2,e.sent()];case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2,t.cloneNode(!1)]}}))}))}function A(t,e){return d(e,Element)&&(function(t,e){var n=e.style;if(n){var r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):o(r).forEach((function(i){var o=r.getPropertyValue(i);if("font-size"===i&&o.endsWith("px")){var u=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1;o="".concat(u,"px")}"d"===i&&e.getAttribute("d")&&(o="path(".concat(e.getAttribute("d"),")")),d(t,HTMLIFrameElement)&&"display"===i&&"inline"===o&&(o="block"),n.setProperty(i,o,r.getPropertyPriority(i))}))}}(t,e),function(t,e){p(t,e,":before"),p(t,e,":after")}(t,e),function(t,e){d(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),d(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(d(t,HTMLSelectElement)){var n=e,r=Array.from(n.children).find((function(e){return t.value===e.getAttribute("value")}));r&&r.setAttribute("selected","")}}(t,e)),e}function L(t,r,i){return e(this,void 0,void 0,(function(){return n(this,(function(u){return i||!r.filter||r.filter(t)?[2,Promise.resolve(t).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){return d(t,HTMLCanvasElement)?[2,P(t)]:d(t,HTMLVideoElement)?[2,R(t,r)]:d(t,HTMLIFrameElement)?[2,T(t)]:[2,t.cloneNode(!1)]}))}))}(t,r)})).then((function(i){return function(t,r,i){var u,c;return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return e=[],0===(e=null!=(a=t).tagName&&"SLOT"===a.tagName.toUpperCase()&&t.assignedNodes?o(t.assignedNodes()):d(t,HTMLIFrameElement)&&(null===(u=t.contentDocument)||void 0===u?void 0:u.body)?o(t.contentDocument.body.childNodes):o((null!==(c=t.shadowRoot)&&void 0!==c?c:t).childNodes)).length||d(t,HTMLVideoElement)?[2,r]:[4,e.reduce((function(t,e){return t.then((function(){return L(e,i)})).then((function(t){t&&r.appendChild(t)}))}),Promise.resolve())];case 1:return n.sent(),[2,r]}var a}))}))}(t,i,r)})).then((function(e){return A(t,e)})).then((function(t){return function(t,r){return e(this,void 0,void 0,(function(){var e,i,o,u,c,a,s,l,f,h,d,v,p;return n(this,(function(n){switch(n.label){case 0:if(0===(e=t.querySelectorAll?t.querySelectorAll("use"):[]).length)return[2,t];i={},p=0,n.label=1;case 1:return p<e.length?(o=e[p],(u=o.getAttribute("xlink:href"))?(c=t.querySelector(u),a=document.querySelector(u),c||!a||i[u]?[3,3]:(s=i,l=u,[4,L(a,r,!0)])):[3,3]):[3,4];case 2:s[l]=n.sent(),n.label=3;case 3:return p++,[3,1];case 4:if((f=Object.values(i)).length){for(h="http://www.w3.org/1999/xhtml",(d=document.createElementNS(h,"svg")).setAttribute("xmlns",h),d.style.position="absolute",d.style.width="0",d.style.height="0",d.style.overflow="hidden",d.style.display="none",v=document.createElementNS(h,"defs"),d.appendChild(v),p=0;p<f.length;p++)v.appendChild(f[p]);t.appendChild(d)}return[2,t]}}))}))}(t,r)}))]:[2,null]}))}))}var N=/url\((['"]?)([^'"]+?)\1\)/g,k=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,I=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function D(t,r,i,o,u){return e(this,void 0,void 0,(function(){var e,c,a,s;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),e=i?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;var n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}(r,i):r,c=b(r),a=void 0,u?[4,u(e)]:[3,2];case 1:return s=n.sent(),a=x(s,c),[3,4];case 2:return[4,C(e,c,o)];case 3:a=n.sent(),n.label=4;case 4:return[2,t.replace((l=r,f=l.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),new RegExp("(url\\(['\"]?)(".concat(f,")(['\"]?\\))"),"g")),"$1".concat(a,"$3"))];case 5:return n.sent(),[3,6];case 6:return[2,t]}var l,f}))}))}function M(t){return-1!==t.search(N)}function H(t,r,i){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){return M(t)?(e=function(t,e){var n=e.preferredFontFormat;return n?t.replace(I,(function(t){for(;;){var e=k.exec(t)||[],r=e[0],i=e[2];if(!i)return"";if(i===n)return"src: ".concat(r,";")}})):t}(t,i),o=function(t){var e=[];return t.replace(N,(function(t,n,r){return e.push(r),t})),e.filter((function(t){return!y(t)}))}(e),[2,o.reduce((function(t,e){return t.then((function(t){return D(t,e,r,i)}))}),Promise.resolve(e))]):[2,t]}))}))}function V(t,r){var i;return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){switch(n.label){case 0:return(e=null===(i=t.style)||void 0===i?void 0:i.getPropertyValue("background"))?[4,H(e,null,r)]:[3,2];case 1:o=n.sent(),t.style.setProperty("background",o,t.style.getPropertyPriority("background")),n.label=2;case 2:return[2]}}))}))}function j(t,r){return e(this,void 0,void 0,(function(){var e,i,o,u;return n(this,(function(n){switch(n.label){case 0:return(e=d(t,HTMLImageElement))&&!y(t.src)||d(t,SVGImageElement)&&!y(t.href.baseVal)?(i=new Promise((function(e){t.onload=e,t.onerror=e;var n=t;n.decode&&(n.decode=e),"lazy"===n.loading&&(n.loading="eager")})),[4,C(o=e?t.src:t.href.baseVal,b(o),r)]):[2];case 1:return(u=n.sent())&&""!==u?(e?(t.srcset="",t.src=u):t.href.baseVal=u,[4,i]):[2];case 2:return n.sent(),[2]}}))}))}function q(t,r){return e(this,void 0,void 0,(function(){var e,i;return n(this,(function(n){switch(n.label){case 0:return e=o(t.childNodes),i=e.map((function(t){return F(t,r)})),[4,Promise.all(i).then((function(){return t}))];case 1:return n.sent(),[2]}}))}))}function F(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return d(t,Element)?[4,V(t,r)]:[3,4];case 1:return e.sent(),[4,j(t,r)];case 2:return e.sent(),[4,q(t,r)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}var U={};function O(t){return e(this,void 0,void 0,(function(){var e,r;return n(this,(function(n){switch(n.label){case 0:return null!=(e=U[t])?[2,e]:[4,fetch(t)];case 1:return[4,n.sent().text()];case 2:return r=n.sent(),e={url:t,cssText:r},U[t]=e,[2,e]}}))}))}function B(t,r){return e(this,void 0,void 0,(function(){var i,o,u,c,a=this;return n(this,(function(s){return i=t.cssText,o=/url\(["']?([^"')]+)["']?\)/g,u=i.match(/url\([^)]+\)/g)||[],c=u.map((function(u){return e(a,void 0,void 0,(function(){var e;return n(this,(function(n){return(e=u.replace(o,"$1")).startsWith("https://")||(e=new URL(e,t.url).href),[2,S(e,r.fetchRequestInit,(function(t){var e=t.result;return i=i.replace(u,"url(".concat(e,")")),[u,e]}))]}))}))})),[2,Promise.all(c).then((function(){return i}))]}))}))}function z(t){if(null==t)return[];for(var e=[],n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){if(null===(u=r.exec(n)))break;e.push(u[0])}n=n.replace(r,"");for(var i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var u;if(null===(u=i.exec(n))){if(null===(u=o.exec(n)))break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;e.push(u[0])}return e}function W(t,r){return e(this,void 0,void 0,(function(){var e,i;return n(this,(function(n){return e=[],i=[],t.forEach((function(e){if("cssRules"in e)try{o(e.cssRules||[]).forEach((function(t,n){if(t.type===CSSRule.IMPORT_RULE){var o=n+1,u=O(t.href).then((function(t){return B(t,r)})).then((function(t){return z(t).forEach((function(t){try{e.insertRule(t,t.startsWith("@import")?o+=1:e.cssRules.length)}catch(t){}}))})).catch((function(){}));i.push(u)}}))}catch(o){var n=t.find((function(t){return null==t.href}))||document.styleSheets[0];null!=e.href&&i.push(O(e.href).then((function(t){return B(t,r)})).then((function(t){return z(t).forEach((function(t){n.insertRule(t,e.cssRules.length)}))})).catch((function(){})))}})),[2,Promise.all(i).then((function(){return t.forEach((function(t){if("cssRules"in t)try{o(t.cssRules||[]).forEach((function(t){e.push(t)}))}catch(t){}})),e}))]}))}))}function $(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return M(t.style.getPropertyValue("src"))}))}function _(t,r){return e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");return[4,W(o(t.ownerDocument.styleSheets),r)];case 1:return[2,$(e.sent())]}}))}))}function G(t,r){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return[4,_(t,r)];case 1:return e=n.sent(),[4,Promise.all(e.map((function(t){var e=t.parentStyleSheet?t.parentStyleSheet.href:null;return H(t.cssText,e,r)})))];case 2:return[2,n.sent().join("\n")]}}))}))}function J(t,r){return e(this,void 0,void 0,(function(){var e,i,o,u,c;return n(this,(function(n){switch(n.label){case 0:return null==r.fontEmbedCSS?[3,1]:(i=r.fontEmbedCSS,[3,5]);case 1:return r.skipFonts?(o=null,[3,4]):[3,2];case 2:return[4,G(t,r)];case 3:o=n.sent(),n.label=4;case 4:i=o,n.label=5;case 5:return(e=i)&&(u=document.createElement("style"),c=document.createTextNode(e),u.appendChild(c),t.firstChild?t.insertBefore(u,t.firstChild):t.appendChild(u)),[2]}}))}))}function Q(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){var e,i,o,u;return n(this,(function(n){switch(n.label){case 0:return e=c(t,r),i=e.width,o=e.height,[4,L(t,r,!0)];case 1:return[4,J(u=n.sent(),r)];case 2:return n.sent(),[4,F(u,r)];case 3:return n.sent(),function(t,e){var n=t.style;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width="".concat(e.width,"px")),e.height&&(n.height="".concat(e.height,"px"));var r=e.style;null!=r&&Object.keys(r).forEach((function(t){n[t]=r[t]}))}(u,r),[4,h(u,i,o)];case 4:return[2,n.sent()]}}))}))}function X(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){var e,i,o,u,s,f,h,d,v;return n(this,(function(n){switch(n.label){case 0:return e=c(t,r),i=e.width,o=e.height,[4,Q(t,r)];case 1:return[4,l(n.sent())];case 2:return u=n.sent(),s=document.createElement("canvas"),f=s.getContext("2d"),h=r.pixelRatio||function(){var t,e;try{e=process}catch(t){}var n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),d=r.canvasWidth||i,v=r.canvasHeight||o,s.width=d*h,s.height=v*h,r.skipAutoScale||function(t){(t.width>a||t.height>a)&&(t.width>a&&t.height>a?t.width>t.height?(t.height*=a/t.width,t.width=a):(t.width*=a/t.height,t.height=a):t.width>a?(t.height*=a/t.width,t.width=a):(t.width*=a/t.height,t.height=a))}(s),s.style.width="".concat(d),s.style.height="".concat(v),r.backgroundColor&&(f.fillStyle=r.backgroundColor,f.fillRect(0,0,s.width,s.height)),f.drawImage(u,0,0,s.width,s.height),[2,s]}}))}))}t.getFontEmbedCSS=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){return[2,G(t,r)]}))}))},t.toBlob=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,X(t,r)];case 1:return[4,s(e.sent())];case 2:return[2,e.sent()]}}))}))},t.toCanvas=X,t.toJpeg=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,X(t,r)];case 1:return[2,e.sent().toDataURL("image/jpeg",r.quality||1)]}}))}))},t.toPixelData=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){var e,i,o,u;return n(this,(function(n){switch(n.label){case 0:return e=c(t,r),i=e.width,o=e.height,[4,X(t,r)];case 1:return u=n.sent(),[2,u.getContext("2d").getImageData(0,0,i,o).data]}}))}))},t.toPng=function(t,r){return void 0===r&&(r={}),e(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,X(t,r)];case 1:return[2,e.sent().toDataURL()]}}))}))},t.toSvg=Q}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC10by1pbWFnZS5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL3NyYy91dGlsLnRzIiwiLi4vc3JjL2Nsb25lLXBzZXVkb3MudHMiLCIuLi9zcmMvbWltZXMudHMiLCIuLi9zcmMvZGF0YXVybC50cyIsIi4uL3NyYy9jbG9uZS1ub2RlLnRzIiwiLi4vc3JjL2VtYmVkLXJlc291cmNlcy50cyIsIi4uL3NyYy9lbWJlZC1pbWFnZXMudHMiLCIuLi9zcmMvZW1iZWQtd2ViZm9udHMudHMiLCIuLi9zcmMvaW5kZXgudHMiLCIuLi9zcmMvYXBwbHktc3R5bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuIiwiaW1wb3J0IHR5cGUgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVcmwodXJsOiBzdHJpbmcsIGJhc2VVcmw6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xuICAvLyB1cmwgaXMgYWJzb2x1dGUgYWxyZWFkeVxuICBpZiAodXJsLm1hdGNoKC9eW2Etel0rOlxcL1xcLy9pKSkge1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIC8vIHVybCBpcyBhYnNvbHV0ZSBhbHJlYWR5LCB3aXRob3V0IHByb3RvY29sXG4gIGlmICh1cmwubWF0Y2goL15cXC9cXC8vKSkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyB1cmxcbiAgfVxuXG4gIC8vIGRhdGFVUkksIG1haWx0bzosIHRlbDosIGV0Yy5cbiAgaWYgKHVybC5tYXRjaCgvXlthLXpdKzovaSkpIHtcbiAgICByZXR1cm4gdXJsXG4gIH1cblxuICBjb25zdCBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKVxuICBjb25zdCBiYXNlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKVxuICBjb25zdCBhID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2EnKVxuXG4gIGRvYy5oZWFkLmFwcGVuZENoaWxkKGJhc2UpXG4gIGRvYy5ib2R5LmFwcGVuZENoaWxkKGEpXG5cbiAgaWYgKGJhc2VVcmwpIHtcbiAgICBiYXNlLmhyZWYgPSBiYXNlVXJsXG4gIH1cblxuICBhLmhyZWYgPSB1cmxcblxuICByZXR1cm4gYS5ocmVmXG59XG5cbmV4cG9ydCBjb25zdCB1dWlkID0gKCgpID0+IHtcbiAgLy8gZ2VuZXJhdGUgdXVpZCBmb3IgY2xhc3NOYW1lIG9mIHBzZXVkbyBlbGVtZW50cy5cbiAgLy8gV2Ugc2hvdWxkIG5vdCB1c2UgR1VJRHMsIG90aGVyd2lzZSBwc2V1ZG8gZWxlbWVudHMgc29tZXRpbWVzIGNhbm5vdCBiZSBjYXB0dXJlZC5cbiAgbGV0IGNvdW50ZXIgPSAwXG5cbiAgLy8gcmVmOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82MjQ4NzIyLzI1MTkzNzNcbiAgY29uc3QgcmFuZG9tID0gKCkgPT5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIGAwMDAwJHsoKE1hdGgucmFuZG9tKCkgKiAzNiAqKiA0KSA8PCAwKS50b1N0cmluZygzNil9YC5zbGljZSgtNClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvdW50ZXIgKz0gMVxuICAgIHJldHVybiBgdSR7cmFuZG9tKCl9JHtjb3VudGVyfWBcbiAgfVxufSkoKVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsYXk8VD4obXM6IG51bWJlcikge1xuICByZXR1cm4gKGFyZ3M6IFQpID0+XG4gICAgbmV3IFByb21pc2U8VD4oKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShhcmdzKSwgbXMpXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXk8VD4oYXJyYXlMaWtlOiBhbnkpOiBUW10ge1xuICBjb25zdCBhcnI6IFRbXSA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcnJheUxpa2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJyLnB1c2goYXJyYXlMaWtlW2ldKVxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBweChub2RlOiBIVE1MRWxlbWVudCwgc3R5bGVQcm9wZXJ0eTogc3RyaW5nKSB7XG4gIGNvbnN0IHdpbiA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3dcbiAgY29uc3QgdmFsID0gd2luLmdldENvbXB1dGVkU3R5bGUobm9kZSkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3BlcnR5KVxuICByZXR1cm4gdmFsID8gcGFyc2VGbG9hdCh2YWwucmVwbGFjZSgncHgnLCAnJykpIDogMFxufVxuXG5mdW5jdGlvbiBnZXROb2RlV2lkdGgobm9kZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgbGVmdEJvcmRlciA9IHB4KG5vZGUsICdib3JkZXItbGVmdC13aWR0aCcpXG4gIGNvbnN0IHJpZ2h0Qm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci1yaWdodC13aWR0aCcpXG4gIHJldHVybiBub2RlLmNsaWVudFdpZHRoICsgbGVmdEJvcmRlciArIHJpZ2h0Qm9yZGVyXG59XG5cbmZ1bmN0aW9uIGdldE5vZGVIZWlnaHQobm9kZTogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgdG9wQm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci10b3Atd2lkdGgnKVxuICBjb25zdCBib3R0b21Cb3JkZXIgPSBweChub2RlLCAnYm9yZGVyLWJvdHRvbS13aWR0aCcpXG4gIHJldHVybiBub2RlLmNsaWVudEhlaWdodCArIHRvcEJvcmRlciArIGJvdHRvbUJvcmRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VTaXplKHRhcmdldE5vZGU6IEhUTUxFbGVtZW50LCBvcHRpb25zOiBPcHRpb25zID0ge30pIHtcbiAgY29uc3Qgd2lkdGggPSBvcHRpb25zLndpZHRoIHx8IGdldE5vZGVXaWR0aCh0YXJnZXROb2RlKVxuICBjb25zdCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCBnZXROb2RlSGVpZ2h0KHRhcmdldE5vZGUpXG5cbiAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbFJhdGlvKCkge1xuICBsZXQgcmF0aW9cblxuICBsZXQgRklOQUxfUFJPQ0VTU1xuICB0cnkge1xuICAgIEZJTkFMX1BST0NFU1MgPSBwcm9jZXNzXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBwYXNzXG4gIH1cblxuICBjb25zdCB2YWwgPVxuICAgIEZJTkFMX1BST0NFU1MgJiYgRklOQUxfUFJPQ0VTUy5lbnZcbiAgICAgID8gRklOQUxfUFJPQ0VTUy5lbnYuZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgOiBudWxsXG4gIGlmICh2YWwpIHtcbiAgICByYXRpbyA9IHBhcnNlSW50KHZhbCwgMTApXG4gICAgaWYgKE51bWJlci5pc05hTihyYXRpbykpIHtcbiAgICAgIHJhdGlvID0gMVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmF0aW8gfHwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMVxufVxuXG4vLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9jYW52YXMjbWF4aW11bV9jYW52YXNfc2l6ZVxuY29uc3QgY2FudmFzRGltZW5zaW9uTGltaXQgPSAxNjM4NFxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tDYW52YXNEaW1lbnNpb25zKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgaWYgKFxuICAgIGNhbnZhcy53aWR0aCA+IGNhbnZhc0RpbWVuc2lvbkxpbWl0IHx8XG4gICAgY2FudmFzLmhlaWdodCA+IGNhbnZhc0RpbWVuc2lvbkxpbWl0XG4gICkge1xuICAgIGlmIChcbiAgICAgIGNhbnZhcy53aWR0aCA+IGNhbnZhc0RpbWVuc2lvbkxpbWl0ICYmXG4gICAgICBjYW52YXMuaGVpZ2h0ID4gY2FudmFzRGltZW5zaW9uTGltaXRcbiAgICApIHtcbiAgICAgIGlmIChjYW52YXMud2lkdGggPiBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgKj0gY2FudmFzRGltZW5zaW9uTGltaXQgLyBjYW52YXMud2lkdGhcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzRGltZW5zaW9uTGltaXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCAqPSBjYW52YXNEaW1lbnNpb25MaW1pdCAvIGNhbnZhcy5oZWlnaHRcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0RpbWVuc2lvbkxpbWl0XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYW52YXMud2lkdGggPiBjYW52YXNEaW1lbnNpb25MaW1pdCkge1xuICAgICAgY2FudmFzLmhlaWdodCAqPSBjYW52YXNEaW1lbnNpb25MaW1pdCAvIGNhbnZhcy53aWR0aFxuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzRGltZW5zaW9uTGltaXRcbiAgICB9IGVsc2Uge1xuICAgICAgY2FudmFzLndpZHRoICo9IGNhbnZhc0RpbWVuc2lvbkxpbWl0IC8gY2FudmFzLmhlaWdodFxuICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhc0RpbWVuc2lvbkxpbWl0XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW52YXNUb0Jsb2IoXG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcbiAgaWYgKGNhbnZhcy50b0Jsb2IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNhbnZhcy50b0Jsb2IoXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIG9wdGlvbnMudHlwZSA/IG9wdGlvbnMudHlwZSA6ICdpbWFnZS9wbmcnLFxuICAgICAgICBvcHRpb25zLnF1YWxpdHkgPyBvcHRpb25zLnF1YWxpdHkgOiAxLFxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSB3aW5kb3cuYXRvYihcbiAgICAgIGNhbnZhc1xuICAgICAgICAudG9EYXRhVVJMKFxuICAgICAgICAgIG9wdGlvbnMudHlwZSA/IG9wdGlvbnMudHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvcHRpb25zLnF1YWxpdHkgPyBvcHRpb25zLnF1YWxpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgIClcbiAgICAgICAgLnNwbGl0KCcsJylbMV0sXG4gICAgKVxuICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGhcbiAgICBjb25zdCBiaW5hcnlBcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbilcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIGJpbmFyeUFycmF5W2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSlcbiAgICB9XG5cbiAgICByZXNvbHZlKFxuICAgICAgbmV3IEJsb2IoW2JpbmFyeUFycmF5XSwge1xuICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUgPyBvcHRpb25zLnR5cGUgOiAnaW1hZ2UvcG5nJyxcbiAgICAgIH0pLFxuICAgIClcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKHVybDogc3RyaW5nKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKClcbiAgICBpbWcuZGVjb2RlID0gKCkgPT4gcmVzb2x2ZShpbWcpIGFzIGFueVxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZylcbiAgICBpbWcub25lcnJvciA9IHJlamVjdFxuICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnXG4gICAgaW1nLmRlY29kaW5nID0gJ2FzeW5jJ1xuICAgIGltZy5zcmMgPSB1cmxcbiAgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN2Z1RvRGF0YVVSTChzdmc6IFNWR0VsZW1lbnQpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAudGhlbigoKSA9PiBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpXG4gICAgLnRoZW4oZW5jb2RlVVJJQ29tcG9uZW50KVxuICAgIC50aGVuKChodG1sKSA9PiBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJHtodG1sfWApXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub2RlVG9EYXRhVVJMKFxuICBub2RlOiBIVE1MRWxlbWVudCxcbiAgd2lkdGg6IG51bWJlcixcbiAgaGVpZ2h0OiBudW1iZXIsXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZydcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnc3ZnJylcbiAgY29uc3QgZm9yZWlnbk9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ2ZvcmVpZ25PYmplY3QnKVxuXG4gIHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7d2lkdGh9YClcbiAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgYCR7aGVpZ2h0fWApXG4gIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBgMCAwICR7d2lkdGh9ICR7aGVpZ2h0fWApXG5cbiAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzEwMCUnKVxuICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzEwMCUnKVxuICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZSgneCcsICcwJylcbiAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGUoJ3knLCAnMCcpXG4gIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKCdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3RydWUnKVxuXG4gIHN2Zy5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KVxuICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKG5vZGUpXG5cbiAgcmV0dXJuIHN2Z1RvRGF0YVVSTChzdmcpXG59XG5cbmV4cG9ydCBjb25zdCBpc0luc3RhbmNlT2ZFbGVtZW50ID0gPFxuICBUIGV4dGVuZHMgdHlwZW9mIEVsZW1lbnQgfCB0eXBlb2YgSFRNTEVsZW1lbnQgfCB0eXBlb2YgU1ZHSW1hZ2VFbGVtZW50LFxuPihcbiAgbm9kZTogRWxlbWVudCB8IEhUTUxFbGVtZW50IHwgU1ZHSW1hZ2VFbGVtZW50LFxuICBpbnN0YW5jZTogVCxcbik6IG5vZGUgaXMgVFsncHJvdG90eXBlJ10gPT4ge1xuICBpZiAobm9kZSBpbnN0YW5jZW9mIGluc3RhbmNlKSByZXR1cm4gdHJ1ZVxuXG4gIGNvbnN0IG5vZGVQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobm9kZSlcblxuICBpZiAobm9kZVByb3RvdHlwZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlXG5cbiAgcmV0dXJuIChcbiAgICBub2RlUHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWUgPT09IGluc3RhbmNlLm5hbWUgfHxcbiAgICBpc0luc3RhbmNlT2ZFbGVtZW50KG5vZGVQcm90b3R5cGUsIGluc3RhbmNlKVxuICApXG59XG4iLCJpbXBvcnQgeyB1dWlkLCB0b0FycmF5IH0gZnJvbSAnLi91dGlsJ1xuXG50eXBlIFBzZXVkbyA9ICc6YmVmb3JlJyB8ICc6YWZ0ZXInXG5cbmZ1bmN0aW9uIGZvcm1hdENTU1RleHQoc3R5bGU6IENTU1N0eWxlRGVjbGFyYXRpb24pIHtcbiAgY29uc3QgY29udGVudCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2NvbnRlbnQnKVxuICByZXR1cm4gYCR7c3R5bGUuY3NzVGV4dH0gY29udGVudDogJyR7Y29udGVudC5yZXBsYWNlKC8nfFwiL2csICcnKX0nO2Bcbn1cblxuZnVuY3Rpb24gZm9ybWF0Q1NTUHJvcGVydGllcyhzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvbikge1xuICByZXR1cm4gdG9BcnJheTxzdHJpbmc+KHN0eWxlKVxuICAgIC5tYXAoKG5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKVxuICAgICAgY29uc3QgcHJpb3JpdHkgPSBzdHlsZS5nZXRQcm9wZXJ0eVByaW9yaXR5KG5hbWUpXG5cbiAgICAgIHJldHVybiBgJHtuYW1lfTogJHt2YWx1ZX0ke3ByaW9yaXR5ID8gJyAhaW1wb3J0YW50JyA6ICcnfTtgXG4gICAgfSlcbiAgICAuam9pbignICcpXG59XG5cbmZ1bmN0aW9uIGdldFBzZXVkb0VsZW1lbnRTdHlsZShcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHBzZXVkbzogUHNldWRvLFxuICBzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvbixcbik6IFRleHQge1xuICBjb25zdCBzZWxlY3RvciA9IGAuJHtjbGFzc05hbWV9OiR7cHNldWRvfWBcbiAgY29uc3QgY3NzVGV4dCA9IHN0eWxlLmNzc1RleHRcbiAgICA/IGZvcm1hdENTU1RleHQoc3R5bGUpXG4gICAgOiBmb3JtYXRDU1NQcm9wZXJ0aWVzKHN0eWxlKVxuXG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtzZWxlY3Rvcn17JHtjc3NUZXh0fX1gKVxufVxuXG5mdW5jdGlvbiBjbG9uZVBzZXVkb0VsZW1lbnQ8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgbmF0aXZlTm9kZTogVCxcbiAgY2xvbmVkTm9kZTogVCxcbiAgcHNldWRvOiBQc2V1ZG8sXG4pIHtcbiAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuYXRpdmVOb2RlLCBwc2V1ZG8pXG4gIGNvbnN0IGNvbnRlbnQgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdjb250ZW50JylcbiAgaWYgKGNvbnRlbnQgPT09ICcnIHx8IGNvbnRlbnQgPT09ICdub25lJykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgY2xhc3NOYW1lID0gdXVpZCgpXG4gIHRyeSB7XG4gICAgY2xvbmVkTm9kZS5jbGFzc05hbWUgPSBgJHtjbG9uZWROb2RlLmNsYXNzTmFtZX0gJHtjbGFzc05hbWV9YFxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGdldFBzZXVkb0VsZW1lbnRTdHlsZShjbGFzc05hbWUsIHBzZXVkbywgc3R5bGUpKVxuICBjbG9uZWROb2RlLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lUHNldWRvRWxlbWVudHM8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgbmF0aXZlTm9kZTogVCxcbiAgY2xvbmVkTm9kZTogVCxcbikge1xuICBjbG9uZVBzZXVkb0VsZW1lbnQobmF0aXZlTm9kZSwgY2xvbmVkTm9kZSwgJzpiZWZvcmUnKVxuICBjbG9uZVBzZXVkb0VsZW1lbnQobmF0aXZlTm9kZSwgY2xvbmVkTm9kZSwgJzphZnRlcicpXG59XG4iLCJjb25zdCBXT0ZGID0gJ2FwcGxpY2F0aW9uL2ZvbnQtd29mZidcbmNvbnN0IEpQRUcgPSAnaW1hZ2UvanBlZydcbmNvbnN0IG1pbWVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICB3b2ZmOiBXT0ZGLFxuICB3b2ZmMjogV09GRixcbiAgdHRmOiAnYXBwbGljYXRpb24vZm9udC10cnVldHlwZScsXG4gIGVvdDogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0JyxcbiAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAganBnOiBKUEVHLFxuICBqcGVnOiBKUEVHLFxuICBnaWY6ICdpbWFnZS9naWYnLFxuICB0aWZmOiAnaW1hZ2UvdGlmZicsXG4gIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnLFxuICB3ZWJwOiAnaW1hZ2Uvd2VicCcsXG59XG5cbmZ1bmN0aW9uIGdldEV4dGVuc2lvbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG1hdGNoID0gL1xcLihbXi4vXSo/KSQvZy5leGVjKHVybClcbiAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWltZVR5cGUodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBleHRlbnNpb24gPSBnZXRFeHRlbnNpb24odXJsKS50b0xvd2VyQ2FzZSgpXG4gIHJldHVybiBtaW1lc1tleHRlbnNpb25dIHx8ICcnXG59XG4iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcblxuZnVuY3Rpb24gZ2V0Q29udGVudEZyb21EYXRhVXJsKGRhdGFVUkw6IHN0cmluZykge1xuICByZXR1cm4gZGF0YVVSTC5zcGxpdCgvLC8pWzFdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFVcmwodXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHVybC5zZWFyY2goL14oZGF0YTopLykgIT09IC0xXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGF0YVVybChjb250ZW50OiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGBkYXRhOiR7bWltZVR5cGV9O2Jhc2U2NCwke2NvbnRlbnR9YFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBc0RhdGFVUkw8VD4oXG4gIHVybDogc3RyaW5nLFxuICBpbml0OiBSZXF1ZXN0SW5pdCB8IHVuZGVmaW5lZCxcbiAgcHJvY2VzczogKGRhdGE6IHsgcmVzdWx0OiBzdHJpbmc7IHJlczogUmVzcG9uc2UgfSkgPT4gVCxcbik6IFByb21pc2U8VD4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpXG4gIGlmIChyZXMuc3RhdHVzID09PSA0MDQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFJlc291cmNlIFwiJHtyZXMudXJsfVwiIG5vdCBmb3VuZGApXG4gIH1cbiAgY29uc3QgYmxvYiA9IGF3YWl0IHJlcy5ibG9iKClcbiAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3RcbiAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZShwcm9jZXNzKHsgcmVzLCByZXN1bHQ6IHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nIH0pKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpXG4gIH0pXG59XG5cbmNvbnN0IGNhY2hlOiB7IFt1cmw6IHN0cmluZ106IHN0cmluZyB9ID0ge31cblxuZnVuY3Rpb24gZ2V0Q2FjaGVLZXkoXG4gIHVybDogc3RyaW5nLFxuICBjb250ZW50VHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBpbmNsdWRlUXVlcnlQYXJhbXM6IGJvb2xlYW4gfCB1bmRlZmluZWQsXG4pIHtcbiAgbGV0IGtleSA9IHVybC5yZXBsYWNlKC9cXD8uKi8sICcnKVxuXG4gIGlmIChpbmNsdWRlUXVlcnlQYXJhbXMpIHtcbiAgICBrZXkgPSB1cmxcbiAgfVxuXG4gIC8vIGZvbnQgcmVzb3VyY2VcbiAgaWYgKC90dGZ8b3RmfGVvdHx3b2ZmMj8vaS50ZXN0KGtleSkpIHtcbiAgICBrZXkgPSBrZXkucmVwbGFjZSgvLipcXC8vLCAnJylcbiAgfVxuXG4gIHJldHVybiBjb250ZW50VHlwZSA/IGBbJHtjb250ZW50VHlwZX1dJHtrZXl9YCA6IGtleVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzb3VyY2VUb0RhdGFVUkwoXG4gIHJlc291cmNlVXJsOiBzdHJpbmcsXG4gIGNvbnRlbnRUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIG9wdGlvbnM6IE9wdGlvbnMsXG4pIHtcbiAgY29uc3QgY2FjaGVLZXkgPSBnZXRDYWNoZUtleShcbiAgICByZXNvdXJjZVVybCxcbiAgICBjb250ZW50VHlwZSxcbiAgICBvcHRpb25zLmluY2x1ZGVRdWVyeVBhcmFtcyxcbiAgKVxuXG4gIGlmIChjYWNoZVtjYWNoZUtleV0gIT0gbnVsbCkge1xuICAgIHJldHVybiBjYWNoZVtjYWNoZUtleV1cbiAgfVxuXG4gIC8vIHJlZjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L1VzaW5nX1hNTEh0dHBSZXF1ZXN0I0J5cGFzc2luZ190aGVfY2FjaGVcbiAgaWYgKG9wdGlvbnMuY2FjaGVCdXN0KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgcmVzb3VyY2VVcmwgKz0gKC9cXD8vLnRlc3QocmVzb3VyY2VVcmwpID8gJyYnIDogJz8nKSArIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gIH1cblxuICBsZXQgZGF0YVVSTDogc3RyaW5nXG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZldGNoQXNEYXRhVVJMKFxuICAgICAgcmVzb3VyY2VVcmwsXG4gICAgICBvcHRpb25zLmZldGNoUmVxdWVzdEluaXQsXG4gICAgICAoeyByZXMsIHJlc3VsdCB9KSA9PiB7XG4gICAgICAgIGlmICghY29udGVudFR5cGUpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBjb250ZW50VHlwZSA9IHJlcy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgfHwgJydcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Q29udGVudEZyb21EYXRhVXJsKHJlc3VsdClcbiAgICAgIH0sXG4gICAgKVxuICAgIGRhdGFVUkwgPSBtYWtlRGF0YVVybChjb250ZW50LCBjb250ZW50VHlwZSEpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZGF0YVVSTCA9IG9wdGlvbnMuaW1hZ2VQbGFjZWhvbGRlciB8fCAnJ1xuXG4gICAgLy8gbGV0IG1zZyA9IGBGYWlsZWQgdG8gZmV0Y2ggcmVzb3VyY2U6ICR7cmVzb3VyY2VVcmx9YFxuICAgIC8vIGlmIChlcnJvcikge1xuICAgIC8vICAgbXNnID0gdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJyA/IGVycm9yIDogZXJyb3IubWVzc2FnZVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGlmIChtc2cpIHtcbiAgICAvLyAgIGNvbnNvbGUud2Fybihtc2cpXG4gICAgLy8gfVxuICB9XG5cbiAgY2FjaGVbY2FjaGVLZXldID0gZGF0YVVSTFxuICByZXR1cm4gZGF0YVVSTFxufVxuIiwiaW1wb3J0IHR5cGUgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGNsb25lUHNldWRvRWxlbWVudHMgfSBmcm9tICcuL2Nsb25lLXBzZXVkb3MnXG5pbXBvcnQgeyBjcmVhdGVJbWFnZSwgdG9BcnJheSwgaXNJbnN0YW5jZU9mRWxlbWVudCB9IGZyb20gJy4vdXRpbCdcbmltcG9ydCB7IGdldE1pbWVUeXBlIH0gZnJvbSAnLi9taW1lcydcbmltcG9ydCB7IHJlc291cmNlVG9EYXRhVVJMIH0gZnJvbSAnLi9kYXRhdXJsJ1xuXG5hc3luYyBmdW5jdGlvbiBjbG9uZUNhbnZhc0VsZW1lbnQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICBjb25zdCBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgpXG4gIGlmIChkYXRhVVJMID09PSAnZGF0YTosJykge1xuICAgIHJldHVybiBjYW52YXMuY2xvbmVOb2RlKGZhbHNlKSBhcyBIVE1MQ2FudmFzRWxlbWVudFxuICB9XG4gIHJldHVybiBjcmVhdGVJbWFnZShkYXRhVVJMKVxufVxuXG5hc3luYyBmdW5jdGlvbiBjbG9uZVZpZGVvRWxlbWVudCh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCwgb3B0aW9uczogT3B0aW9ucykge1xuICBpZiAodmlkZW8uY3VycmVudFNyYykge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICBjYW52YXMud2lkdGggPSB2aWRlby5jbGllbnRXaWR0aFxuICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby5jbGllbnRIZWlnaHRcbiAgICBjdHg/LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxuICAgIGNvbnN0IGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKClcbiAgICByZXR1cm4gY3JlYXRlSW1hZ2UoZGF0YVVSTClcbiAgfVxuXG4gIGNvbnN0IHBvc3RlciA9IHZpZGVvLnBvc3RlclxuICBjb25zdCBjb250ZW50VHlwZSA9IGdldE1pbWVUeXBlKHBvc3RlcilcbiAgY29uc3QgZGF0YVVSTCA9IGF3YWl0IHJlc291cmNlVG9EYXRhVVJMKHBvc3RlciwgY29udGVudFR5cGUsIG9wdGlvbnMpXG4gIHJldHVybiBjcmVhdGVJbWFnZShkYXRhVVJMKVxufVxuXG5hc3luYyBmdW5jdGlvbiBjbG9uZUlGcmFtZUVsZW1lbnQoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICB0cnkge1xuICAgIGlmIChpZnJhbWU/LmNvbnRlbnREb2N1bWVudD8uYm9keSkge1xuICAgICAgcmV0dXJuIChhd2FpdCBjbG9uZU5vZGUoXG4gICAgICAgIGlmcmFtZS5jb250ZW50RG9jdW1lbnQuYm9keSxcbiAgICAgICAge30sXG4gICAgICAgIHRydWUsXG4gICAgICApKSBhcyBIVE1MQm9keUVsZW1lbnRcbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIEZhaWxlZCB0byBjbG9uZSBpZnJhbWVcbiAgfVxuXG4gIHJldHVybiBpZnJhbWUuY2xvbmVOb2RlKGZhbHNlKSBhcyBIVE1MSUZyYW1lRWxlbWVudFxufVxuXG5hc3luYyBmdW5jdGlvbiBjbG9uZVNpbmdsZU5vZGU8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgbm9kZTogVCxcbiAgb3B0aW9uczogT3B0aW9ucyxcbik6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcbiAgaWYgKGlzSW5zdGFuY2VPZkVsZW1lbnQobm9kZSwgSFRNTENhbnZhc0VsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGNsb25lQ2FudmFzRWxlbWVudChub2RlKVxuICB9XG5cbiAgaWYgKGlzSW5zdGFuY2VPZkVsZW1lbnQobm9kZSwgSFRNTFZpZGVvRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY2xvbmVWaWRlb0VsZW1lbnQobm9kZSwgb3B0aW9ucylcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlT2ZFbGVtZW50KG5vZGUsIEhUTUxJRnJhbWVFbGVtZW50KSkge1xuICAgIHJldHVybiBjbG9uZUlGcmFtZUVsZW1lbnQobm9kZSlcbiAgfVxuXG4gIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSkgYXMgVFxufVxuXG5jb25zdCBpc1Nsb3RFbGVtZW50ID0gKG5vZGU6IEhUTUxFbGVtZW50KTogbm9kZSBpcyBIVE1MU2xvdEVsZW1lbnQgPT5cbiAgbm9kZS50YWdOYW1lICE9IG51bGwgJiYgbm9kZS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdTTE9UJ1xuXG5hc3luYyBmdW5jdGlvbiBjbG9uZUNoaWxkcmVuPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5hdGl2ZU5vZGU6IFQsXG4gIGNsb25lZE5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMsXG4pOiBQcm9taXNlPFQ+IHtcbiAgbGV0IGNoaWxkcmVuOiBUW10gPSBbXVxuXG4gIGlmIChpc1Nsb3RFbGVtZW50KG5hdGl2ZU5vZGUpICYmIG5hdGl2ZU5vZGUuYXNzaWduZWROb2Rlcykge1xuICAgIGNoaWxkcmVuID0gdG9BcnJheTxUPihuYXRpdmVOb2RlLmFzc2lnbmVkTm9kZXMoKSlcbiAgfSBlbHNlIGlmIChcbiAgICBpc0luc3RhbmNlT2ZFbGVtZW50KG5hdGl2ZU5vZGUsIEhUTUxJRnJhbWVFbGVtZW50KSAmJlxuICAgIG5hdGl2ZU5vZGUuY29udGVudERvY3VtZW50Py5ib2R5XG4gICkge1xuICAgIGNoaWxkcmVuID0gdG9BcnJheTxUPihuYXRpdmVOb2RlLmNvbnRlbnREb2N1bWVudC5ib2R5LmNoaWxkTm9kZXMpXG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSB0b0FycmF5PFQ+KChuYXRpdmVOb2RlLnNoYWRvd1Jvb3QgPz8gbmF0aXZlTm9kZSkuY2hpbGROb2RlcylcbiAgfVxuXG4gIGlmIChcbiAgICBjaGlsZHJlbi5sZW5ndGggPT09IDAgfHxcbiAgICBpc0luc3RhbmNlT2ZFbGVtZW50KG5hdGl2ZU5vZGUsIEhUTUxWaWRlb0VsZW1lbnQpXG4gICkge1xuICAgIHJldHVybiBjbG9uZWROb2RlXG4gIH1cblxuICBhd2FpdCBjaGlsZHJlbi5yZWR1Y2UoXG4gICAgKGRlZmVycmVkLCBjaGlsZCkgPT5cbiAgICAgIGRlZmVycmVkXG4gICAgICAgIC50aGVuKCgpID0+IGNsb25lTm9kZShjaGlsZCwgb3B0aW9ucykpXG4gICAgICAgIC50aGVuKChjbG9uZWRDaGlsZDogSFRNTEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgICAgICAgaWYgKGNsb25lZENoaWxkKSB7XG4gICAgICAgICAgICBjbG9uZWROb2RlLmFwcGVuZENoaWxkKGNsb25lZENoaWxkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgUHJvbWlzZS5yZXNvbHZlKCksXG4gIClcblxuICByZXR1cm4gY2xvbmVkTm9kZVxufVxuXG5mdW5jdGlvbiBjbG9uZUNTU1N0eWxlPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4obmF0aXZlTm9kZTogVCwgY2xvbmVkTm9kZTogVCkge1xuICBjb25zdCB0YXJnZXRTdHlsZSA9IGNsb25lZE5vZGUuc3R5bGVcbiAgaWYgKCF0YXJnZXRTdHlsZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3Qgc291cmNlU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuYXRpdmVOb2RlKVxuICBpZiAoc291cmNlU3R5bGUuY3NzVGV4dCkge1xuICAgIHRhcmdldFN0eWxlLmNzc1RleHQgPSBzb3VyY2VTdHlsZS5jc3NUZXh0XG4gICAgdGFyZ2V0U3R5bGUudHJhbnNmb3JtT3JpZ2luID0gc291cmNlU3R5bGUudHJhbnNmb3JtT3JpZ2luXG4gIH0gZWxzZSB7XG4gICAgdG9BcnJheTxzdHJpbmc+KHNvdXJjZVN0eWxlKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBzb3VyY2VTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpXG4gICAgICBpZiAobmFtZSA9PT0gJ2ZvbnQtc2l6ZScgJiYgdmFsdWUuZW5kc1dpdGgoJ3B4JykpIHtcbiAgICAgICAgY29uc3QgcmVkdWNlZEZvbnQgPVxuICAgICAgICAgIE1hdGguZmxvb3IocGFyc2VGbG9hdCh2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMikpKSAtIDAuMVxuICAgICAgICB2YWx1ZSA9IGAke3JlZHVjZWRGb250fXB4YFxuICAgICAgfVxuICAgICAgaWYgKG5hbWUgPT09ICdkJyAmJiBjbG9uZWROb2RlLmdldEF0dHJpYnV0ZSgnZCcpKSB7XG4gICAgICAgIHZhbHVlID0gYHBhdGgoJHtjbG9uZWROb2RlLmdldEF0dHJpYnV0ZSgnZCcpfSlgXG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGlzSW5zdGFuY2VPZkVsZW1lbnQobmF0aXZlTm9kZSwgSFRNTElGcmFtZUVsZW1lbnQpICYmXG4gICAgICAgIG5hbWUgPT09ICdkaXNwbGF5JyAmJlxuICAgICAgICB2YWx1ZSA9PT0gJ2lubGluZSdcbiAgICAgICkge1xuICAgICAgICB2YWx1ZSA9ICdibG9jaydcbiAgICAgIH1cbiAgICAgIHRhcmdldFN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgc291cmNlU3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eShuYW1lKSxcbiAgICAgIClcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lSW5wdXRWYWx1ZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KG5hdGl2ZU5vZGU6IFQsIGNsb25lZE5vZGU6IFQpIHtcbiAgaWYgKGlzSW5zdGFuY2VPZkVsZW1lbnQobmF0aXZlTm9kZSwgSFRNTFRleHRBcmVhRWxlbWVudCkpIHtcbiAgICBjbG9uZWROb2RlLmlubmVySFRNTCA9IG5hdGl2ZU5vZGUudmFsdWVcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlT2ZFbGVtZW50KG5hdGl2ZU5vZGUsIEhUTUxJbnB1dEVsZW1lbnQpKSB7XG4gICAgY2xvbmVkTm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbmF0aXZlTm9kZS52YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9uZVNlbGVjdFZhbHVlPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4obmF0aXZlTm9kZTogVCwgY2xvbmVkTm9kZTogVCkge1xuICBpZiAoaXNJbnN0YW5jZU9mRWxlbWVudChuYXRpdmVOb2RlLCBIVE1MU2VsZWN0RWxlbWVudCkpIHtcbiAgICBjb25zdCBjbG9uZWRTZWxlY3QgPSBjbG9uZWROb2RlIGFzIGFueSBhcyBIVE1MU2VsZWN0RWxlbWVudFxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gQXJyYXkuZnJvbShjbG9uZWRTZWxlY3QuY2hpbGRyZW4pLmZpbmQoXG4gICAgICAoY2hpbGQpID0+IG5hdGl2ZU5vZGUudmFsdWUgPT09IGNoaWxkLmdldEF0dHJpYnV0ZSgndmFsdWUnKSxcbiAgICApXG5cbiAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9uLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnJylcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVjb3JhdGU8VCBleHRlbmRzIEhUTUxFbGVtZW50PihuYXRpdmVOb2RlOiBULCBjbG9uZWROb2RlOiBUKTogVCB7XG4gIGlmIChpc0luc3RhbmNlT2ZFbGVtZW50KGNsb25lZE5vZGUsIEVsZW1lbnQpKSB7XG4gICAgY2xvbmVDU1NTdHlsZShuYXRpdmVOb2RlLCBjbG9uZWROb2RlKVxuICAgIGNsb25lUHNldWRvRWxlbWVudHMobmF0aXZlTm9kZSwgY2xvbmVkTm9kZSlcbiAgICBjbG9uZUlucHV0VmFsdWUobmF0aXZlTm9kZSwgY2xvbmVkTm9kZSlcbiAgICBjbG9uZVNlbGVjdFZhbHVlKG5hdGl2ZU5vZGUsIGNsb25lZE5vZGUpXG4gIH1cblxuICByZXR1cm4gY2xvbmVkTm9kZVxufVxuXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVTVkdTeW1ib2xzPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIGNsb25lOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKSB7XG4gIGNvbnN0IHVzZXMgPSBjbG9uZS5xdWVyeVNlbGVjdG9yQWxsID8gY2xvbmUucXVlcnlTZWxlY3RvckFsbCgndXNlJykgOiBbXVxuICBpZiAodXNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY2xvbmVcbiAgfVxuXG4gIGNvbnN0IHByb2Nlc3NlZERlZnM6IHsgW2tleTogc3RyaW5nXTogSFRNTEVsZW1lbnQgfSA9IHt9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHVzZSA9IHVzZXNbaV1cbiAgICBjb25zdCBpZCA9IHVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKVxuICAgIGlmIChpZCkge1xuICAgICAgY29uc3QgZXhpc3QgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKGlkKVxuICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpIGFzIEhUTUxFbGVtZW50XG4gICAgICBpZiAoIWV4aXN0ICYmIGRlZmluaXRpb24gJiYgIXByb2Nlc3NlZERlZnNbaWRdKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICAgIHByb2Nlc3NlZERlZnNbaWRdID0gKGF3YWl0IGNsb25lTm9kZShkZWZpbml0aW9uLCBvcHRpb25zLCB0cnVlKSkhXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgbm9kZXMgPSBPYmplY3QudmFsdWVzKHByb2Nlc3NlZERlZnMpXG4gIGlmIChub2Rlcy5sZW5ndGgpIHtcbiAgICBjb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJ1xuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgJ3N2ZycpXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgneG1sbnMnLCBucylcbiAgICBzdmcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgc3ZnLnN0eWxlLndpZHRoID0gJzAnXG4gICAgc3ZnLnN0eWxlLmhlaWdodCA9ICcwJ1xuICAgIHN2Zy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG4gICAgc3ZnLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcblxuICAgIGNvbnN0IGRlZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsICdkZWZzJylcbiAgICBzdmcuYXBwZW5kQ2hpbGQoZGVmcylcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlZnMuYXBwZW5kQ2hpbGQobm9kZXNbaV0pXG4gICAgfVxuXG4gICAgY2xvbmUuYXBwZW5kQ2hpbGQoc3ZnKVxuICB9XG5cbiAgcmV0dXJuIGNsb25lXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9uZU5vZGU8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgbm9kZTogVCxcbiAgb3B0aW9uczogT3B0aW9ucyxcbiAgaXNSb290PzogYm9vbGVhbixcbik6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgaWYgKCFpc1Jvb3QgJiYgb3B0aW9ucy5maWx0ZXIgJiYgIW9wdGlvbnMuZmlsdGVyKG5vZGUpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUobm9kZSlcbiAgICAudGhlbigoY2xvbmVkTm9kZSkgPT4gY2xvbmVTaW5nbGVOb2RlKGNsb25lZE5vZGUsIG9wdGlvbnMpIGFzIFByb21pc2U8VD4pXG4gICAgLnRoZW4oKGNsb25lZE5vZGUpID0+IGNsb25lQ2hpbGRyZW4obm9kZSwgY2xvbmVkTm9kZSwgb3B0aW9ucykpXG4gICAgLnRoZW4oKGNsb25lZE5vZGUpID0+IGRlY29yYXRlKG5vZGUsIGNsb25lZE5vZGUpKVxuICAgIC50aGVuKChjbG9uZWROb2RlKSA9PiBlbnN1cmVTVkdTeW1ib2xzKGNsb25lZE5vZGUsIG9wdGlvbnMpKVxufVxuIiwiaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyByZXNvbHZlVXJsIH0gZnJvbSAnLi91dGlsJ1xuaW1wb3J0IHsgZ2V0TWltZVR5cGUgfSBmcm9tICcuL21pbWVzJ1xuaW1wb3J0IHsgaXNEYXRhVXJsLCBtYWtlRGF0YVVybCwgcmVzb3VyY2VUb0RhdGFVUkwgfSBmcm9tICcuL2RhdGF1cmwnXG5cbmNvbnN0IFVSTF9SRUdFWCA9IC91cmxcXCgoWydcIl0/KShbXidcIl0rPylcXDFcXCkvZ1xuY29uc3QgVVJMX1dJVEhfRk9STUFUX1JFR0VYID0gL3VybFxcKFteKV0rXFwpXFxzKmZvcm1hdFxcKChbXCInXT8pKFteXCInXSspXFwxXFwpL2dcbmNvbnN0IEZPTlRfU1JDX1JFR0VYID0gL3NyYzpcXHMqKD86dXJsXFwoW14pXStcXClcXHMqZm9ybWF0XFwoW14pXStcXClbLDtdXFxzKikrL2dcblxuZnVuY3Rpb24gdG9SZWdleCh1cmw6IHN0cmluZyk6IFJlZ0V4cCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICBjb25zdCBlc2NhcGVkID0gdXJsLnJlcGxhY2UoLyhbLiorP14ke30oKXxcXFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpXG4gIHJldHVybiBuZXcgUmVnRXhwKGAodXJsXFxcXChbJ1wiXT8pKCR7ZXNjYXBlZH0pKFsnXCJdP1xcXFwpKWAsICdnJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVVJMcyhjc3NUZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHVybHM6IHN0cmluZ1tdID0gW11cblxuICBjc3NUZXh0LnJlcGxhY2UoVVJMX1JFR0VYLCAocmF3LCBxdW90YXRpb24sIHVybCkgPT4ge1xuICAgIHVybHMucHVzaCh1cmwpXG4gICAgcmV0dXJuIHJhd1xuICB9KVxuXG4gIHJldHVybiB1cmxzLmZpbHRlcigodXJsKSA9PiAhaXNEYXRhVXJsKHVybCkpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbWJlZChcbiAgY3NzVGV4dDogc3RyaW5nLFxuICByZXNvdXJjZVVSTDogc3RyaW5nLFxuICBiYXNlVVJMOiBzdHJpbmcgfCBudWxsLFxuICBvcHRpb25zOiBPcHRpb25zLFxuICBnZXRDb250ZW50RnJvbVVybD86ICh1cmw6IHN0cmluZykgPT4gUHJvbWlzZTxzdHJpbmc+LFxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNvbHZlZFVSTCA9IGJhc2VVUkwgPyByZXNvbHZlVXJsKHJlc291cmNlVVJMLCBiYXNlVVJMKSA6IHJlc291cmNlVVJMXG4gICAgY29uc3QgY29udGVudFR5cGUgPSBnZXRNaW1lVHlwZShyZXNvdXJjZVVSTClcbiAgICBsZXQgZGF0YVVSTDogc3RyaW5nXG4gICAgaWYgKGdldENvbnRlbnRGcm9tVXJsKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZ2V0Q29udGVudEZyb21VcmwocmVzb2x2ZWRVUkwpXG4gICAgICBkYXRhVVJMID0gbWFrZURhdGFVcmwoY29udGVudCwgY29udGVudFR5cGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGFVUkwgPSBhd2FpdCByZXNvdXJjZVRvRGF0YVVSTChyZXNvbHZlZFVSTCwgY29udGVudFR5cGUsIG9wdGlvbnMpXG4gICAgfVxuICAgIHJldHVybiBjc3NUZXh0LnJlcGxhY2UodG9SZWdleChyZXNvdXJjZVVSTCksIGAkMSR7ZGF0YVVSTH0kM2ApXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gcGFzc1xuICB9XG4gIHJldHVybiBjc3NUZXh0XG59XG5cbmZ1bmN0aW9uIGZpbHRlclByZWZlcnJlZEZvbnRGb3JtYXQoXG4gIHN0cjogc3RyaW5nLFxuICB7IHByZWZlcnJlZEZvbnRGb3JtYXQgfTogT3B0aW9ucyxcbik6IHN0cmluZyB7XG4gIHJldHVybiAhcHJlZmVycmVkRm9udEZvcm1hdFxuICAgID8gc3RyXG4gICAgOiBzdHIucmVwbGFjZShGT05UX1NSQ19SRUdFWCwgKG1hdGNoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IFtzcmMsICwgZm9ybWF0XSA9IFVSTF9XSVRIX0ZPUk1BVF9SRUdFWC5leGVjKG1hdGNoKSB8fCBbXVxuICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZm9ybWF0ID09PSBwcmVmZXJyZWRGb250Rm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gYHNyYzogJHtzcmN9O2BcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRFbWJlZCh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdXJsLnNlYXJjaChVUkxfUkVHRVgpICE9PSAtMVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWRSZXNvdXJjZXMoXG4gIGNzc1RleHQ6IHN0cmluZyxcbiAgYmFzZVVybDogc3RyaW5nIHwgbnVsbCxcbiAgb3B0aW9uczogT3B0aW9ucyxcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGlmICghc2hvdWxkRW1iZWQoY3NzVGV4dCkpIHtcbiAgICByZXR1cm4gY3NzVGV4dFxuICB9XG5cbiAgY29uc3QgZmlsdGVyZWRDU1NUZXh0ID0gZmlsdGVyUHJlZmVycmVkRm9udEZvcm1hdChjc3NUZXh0LCBvcHRpb25zKVxuICBjb25zdCB1cmxzID0gcGFyc2VVUkxzKGZpbHRlcmVkQ1NTVGV4dClcbiAgcmV0dXJuIHVybHMucmVkdWNlKFxuICAgIChkZWZlcnJlZCwgdXJsKSA9PlxuICAgICAgZGVmZXJyZWQudGhlbigoY3NzKSA9PiBlbWJlZChjc3MsIHVybCwgYmFzZVVybCwgb3B0aW9ucykpLFxuICAgIFByb21pc2UucmVzb2x2ZShmaWx0ZXJlZENTU1RleHQpLFxuICApXG59XG4iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGVtYmVkUmVzb3VyY2VzIH0gZnJvbSAnLi9lbWJlZC1yZXNvdXJjZXMnXG5pbXBvcnQgeyB0b0FycmF5LCBpc0luc3RhbmNlT2ZFbGVtZW50IH0gZnJvbSAnLi91dGlsJ1xuaW1wb3J0IHsgaXNEYXRhVXJsLCByZXNvdXJjZVRvRGF0YVVSTCB9IGZyb20gJy4vZGF0YXVybCdcbmltcG9ydCB7IGdldE1pbWVUeXBlIH0gZnJvbSAnLi9taW1lcydcblxuYXN5bmMgZnVuY3Rpb24gZW1iZWRCYWNrZ3JvdW5kPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIGNsb25lZE5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMsXG4pIHtcbiAgY29uc3QgYmFja2dyb3VuZCA9IGNsb25lZE5vZGUuc3R5bGU/LmdldFByb3BlcnR5VmFsdWUoJ2JhY2tncm91bmQnKVxuICBpZiAoYmFja2dyb3VuZCkge1xuICAgIGNvbnN0IGNzc1N0cmluZyA9IGF3YWl0IGVtYmVkUmVzb3VyY2VzKGJhY2tncm91bmQsIG51bGwsIG9wdGlvbnMpXG4gICAgY2xvbmVkTm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICdiYWNrZ3JvdW5kJyxcbiAgICAgIGNzc1N0cmluZyxcbiAgICAgIGNsb25lZE5vZGUuc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eSgnYmFja2dyb3VuZCcpLFxuICAgIClcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBlbWJlZEltYWdlTm9kZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQgfCBTVkdJbWFnZUVsZW1lbnQ+KFxuICBjbG9uZWROb2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKSB7XG4gIGNvbnN0IGlzSW1hZ2VFbGVtZW50ID0gaXNJbnN0YW5jZU9mRWxlbWVudChjbG9uZWROb2RlLCBIVE1MSW1hZ2VFbGVtZW50KVxuXG4gIGlmIChcbiAgICAhKGlzSW1hZ2VFbGVtZW50ICYmICFpc0RhdGFVcmwoY2xvbmVkTm9kZS5zcmMpKSAmJlxuICAgICEoXG4gICAgICBpc0luc3RhbmNlT2ZFbGVtZW50KGNsb25lZE5vZGUsIFNWR0ltYWdlRWxlbWVudCkgJiZcbiAgICAgICFpc0RhdGFVcmwoY2xvbmVkTm9kZS5ocmVmLmJhc2VWYWwpXG4gICAgKVxuICApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNsb25lZE5vZGUub25sb2FkID0gcmVzb2x2ZVxuICAgIGNsb25lZE5vZGUub25lcnJvciA9IHJlc29sdmVcblxuICAgIGNvbnN0IGltYWdlID0gY2xvbmVkTm9kZSBhcyBIVE1MSW1hZ2VFbGVtZW50XG4gICAgaWYgKGltYWdlLmRlY29kZSkge1xuICAgICAgaW1hZ2UuZGVjb2RlID0gcmVzb2x2ZSBhcyBhbnlcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2UubG9hZGluZyA9PT0gJ2xhenknKSB7XG4gICAgICBpbWFnZS5sb2FkaW5nID0gJ2VhZ2VyJ1xuICAgIH1cbiAgfSlcblxuICBjb25zdCB1cmwgPSBpc0ltYWdlRWxlbWVudCA/IGNsb25lZE5vZGUuc3JjIDogY2xvbmVkTm9kZS5ocmVmLmJhc2VWYWxcblxuICBjb25zdCBkYXRhVVJMID0gYXdhaXQgcmVzb3VyY2VUb0RhdGFVUkwodXJsLCBnZXRNaW1lVHlwZSh1cmwpLCBvcHRpb25zKVxuICBpZiAoIWRhdGFVUkwgfHwgZGF0YVVSTCA9PT0gJycpIHJldHVyblxuXG4gIGlmIChpc0ltYWdlRWxlbWVudCkge1xuICAgIGNsb25lZE5vZGUuc3Jjc2V0ID0gJydcbiAgICBjbG9uZWROb2RlLnNyYyA9IGRhdGFVUkxcbiAgfSBlbHNlIHtcbiAgICBjbG9uZWROb2RlLmhyZWYuYmFzZVZhbCA9IGRhdGFVUkxcbiAgfVxuXG4gIGF3YWl0IHByb21pc2Vcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW1iZWRDaGlsZHJlbjxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBjbG9uZWROb2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKSB7XG4gIGNvbnN0IGNoaWxkcmVuID0gdG9BcnJheTxIVE1MRWxlbWVudD4oY2xvbmVkTm9kZS5jaGlsZE5vZGVzKVxuICBjb25zdCBkZWZlcnJlZHMgPSBjaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiBlbWJlZEltYWdlcyhjaGlsZCwgb3B0aW9ucykpXG4gIGF3YWl0IFByb21pc2UuYWxsKGRlZmVycmVkcykudGhlbigoKSA9PiBjbG9uZWROb2RlKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWRJbWFnZXM8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgY2xvbmVkTm9kZTogVCxcbiAgb3B0aW9uczogT3B0aW9ucyxcbikge1xuICBpZiAoaXNJbnN0YW5jZU9mRWxlbWVudChjbG9uZWROb2RlLCBFbGVtZW50KSkge1xuICAgIGF3YWl0IGVtYmVkQmFja2dyb3VuZChjbG9uZWROb2RlLCBvcHRpb25zKVxuICAgIGF3YWl0IGVtYmVkSW1hZ2VOb2RlKGNsb25lZE5vZGUsIG9wdGlvbnMpXG4gICAgYXdhaXQgZW1iZWRDaGlsZHJlbihjbG9uZWROb2RlLCBvcHRpb25zKVxuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vdXRpbCdcbmltcG9ydCB7IGZldGNoQXNEYXRhVVJMIH0gZnJvbSAnLi9kYXRhdXJsJ1xuaW1wb3J0IHsgc2hvdWxkRW1iZWQsIGVtYmVkUmVzb3VyY2VzIH0gZnJvbSAnLi9lbWJlZC1yZXNvdXJjZXMnXG5cbmludGVyZmFjZSBNZXRhZGF0YSB7XG4gIHVybDogc3RyaW5nXG4gIGNzc1RleHQ6IHN0cmluZ1xufVxuXG5jb25zdCBjc3NGZXRjaENhY2hlOiB7IFtocmVmOiBzdHJpbmddOiBNZXRhZGF0YSB9ID0ge31cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hDU1ModXJsOiBzdHJpbmcpIHtcbiAgbGV0IGNhY2hlID0gY3NzRmV0Y2hDYWNoZVt1cmxdXG4gIGlmIChjYWNoZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGNhY2hlXG4gIH1cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpXG4gIGNvbnN0IGNzc1RleHQgPSBhd2FpdCByZXMudGV4dCgpXG4gIGNhY2hlID0geyB1cmwsIGNzc1RleHQgfVxuXG4gIGNzc0ZldGNoQ2FjaGVbdXJsXSA9IGNhY2hlXG5cbiAgcmV0dXJuIGNhY2hlXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVtYmVkRm9udHMoZGF0YTogTWV0YWRhdGEsIG9wdGlvbnM6IE9wdGlvbnMpOiBQcm9taXNlPHN0cmluZz4ge1xuICBsZXQgY3NzVGV4dCA9IGRhdGEuY3NzVGV4dFxuICBjb25zdCByZWdleFVybCA9IC91cmxcXChbXCInXT8oW15cIicpXSspW1wiJ10/XFwpL2dcbiAgY29uc3QgZm9udExvY3MgPSBjc3NUZXh0Lm1hdGNoKC91cmxcXChbXildK1xcKS9nKSB8fCBbXVxuICBjb25zdCBsb2FkRm9udHMgPSBmb250TG9jcy5tYXAoYXN5bmMgKGxvYzogc3RyaW5nKSA9PiB7XG4gICAgbGV0IHVybCA9IGxvYy5yZXBsYWNlKHJlZ2V4VXJsLCAnJDEnKVxuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAgIHVybCA9IG5ldyBVUkwodXJsLCBkYXRhLnVybCkuaHJlZlxuICAgIH1cblxuICAgIHJldHVybiBmZXRjaEFzRGF0YVVSTDxbc3RyaW5nLCBzdHJpbmddPihcbiAgICAgIHVybCxcbiAgICAgIG9wdGlvbnMuZmV0Y2hSZXF1ZXN0SW5pdCxcbiAgICAgICh7IHJlc3VsdCB9KSA9PiB7XG4gICAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UobG9jLCBgdXJsKCR7cmVzdWx0fSlgKVxuICAgICAgICByZXR1cm4gW2xvYywgcmVzdWx0XVxuICAgICAgfSxcbiAgICApXG4gIH0pXG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKGxvYWRGb250cykudGhlbigoKSA9PiBjc3NUZXh0KVxufVxuXG5mdW5jdGlvbiBwYXJzZUNTUyhzb3VyY2U6IHN0cmluZykge1xuICBpZiAoc291cmNlID09IG51bGwpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxuICBjb25zdCBjb21tZW50c1JlZ2V4ID0gLyhcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKS9naVxuICAvLyBzdHJpcCBvdXQgY29tbWVudHNcbiAgbGV0IGNzc1RleHQgPSBzb3VyY2UucmVwbGFjZShjb21tZW50c1JlZ2V4LCAnJylcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZ2V4LWxpdGVyYWxzXG4gIGNvbnN0IGtleWZyYW1lc1JlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAnKChALio/a2V5ZnJhbWVzIFtcXFxcc1xcXFxTXSo/KXsoW1xcXFxzXFxcXFNdKj99XFxcXHMqPyl9KScsXG4gICAgJ2dpJyxcbiAgKVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCBtYXRjaGVzID0ga2V5ZnJhbWVzUmVnZXguZXhlYyhjc3NUZXh0KVxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgICByZXN1bHQucHVzaChtYXRjaGVzWzBdKVxuICB9XG4gIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2Uoa2V5ZnJhbWVzUmVnZXgsICcnKVxuXG4gIGNvbnN0IGltcG9ydFJlZ2V4ID0gL0BpbXBvcnRbXFxzXFxTXSo/dXJsXFwoW14pXSpcXClbXFxzXFxTXSo/Oy9naVxuICAvLyB0byBtYXRjaCBjc3MgJiBtZWRpYSBxdWVyaWVzIHRvZ2V0aGVyXG4gIGNvbnN0IGNvbWJpbmVkQ1NTUmVnZXggPVxuICAgICcoKFxcXFxzKj8oPzpcXFxcL1xcXFwqW1xcXFxzXFxcXFNdKj9cXFxcKlxcXFwvKT9cXFxccyo/QG1lZGlhW1xcXFxzXFxcXFNdJyArXG4gICAgJyo/KXsoW1xcXFxzXFxcXFNdKj8pfVxcXFxzKj99KXwoKFtcXFxcc1xcXFxTXSo/KXsoW1xcXFxzXFxcXFNdKj8pfSknXG4gIC8vIHVuaWZpZWQgcmVnZXhcbiAgY29uc3QgdW5pZmllZFJlZ2V4ID0gbmV3IFJlZ0V4cChjb21iaW5lZENTU1JlZ2V4LCAnZ2knKVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBsZXQgbWF0Y2hlcyA9IGltcG9ydFJlZ2V4LmV4ZWMoY3NzVGV4dClcbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgbWF0Y2hlcyA9IHVuaWZpZWRSZWdleC5leGVjKGNzc1RleHQpXG4gICAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1wb3J0UmVnZXgubGFzdEluZGV4ID0gdW5pZmllZFJlZ2V4Lmxhc3RJbmRleFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1bmlmaWVkUmVnZXgubGFzdEluZGV4ID0gaW1wb3J0UmVnZXgubGFzdEluZGV4XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKG1hdGNoZXNbMF0pXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENTU1J1bGVzKFxuICBzdHlsZVNoZWV0czogQ1NTU3R5bGVTaGVldFtdLFxuICBvcHRpb25zOiBPcHRpb25zLFxuKTogUHJvbWlzZTxDU1NTdHlsZVJ1bGVbXT4ge1xuICBjb25zdCByZXQ6IENTU1N0eWxlUnVsZVtdID0gW11cbiAgY29uc3QgZGVmZXJyZWRzOiBQcm9taXNlPG51bWJlciB8IHZvaWQ+W10gPSBbXVxuXG4gIC8vIEZpcnN0IGxvb3AgaW5saW5lcyBpbXBvcnRzXG4gIHN0eWxlU2hlZXRzLmZvckVhY2goKHNoZWV0KSA9PiB7XG4gICAgaWYgKCdjc3NSdWxlcycgaW4gc2hlZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRvQXJyYXk8Q1NTUnVsZT4oc2hlZXQuY3NzUnVsZXMgfHwgW10pLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gQ1NTUnVsZS5JTVBPUlRfUlVMRSkge1xuICAgICAgICAgICAgbGV0IGltcG9ydEluZGV4ID0gaW5kZXggKyAxXG4gICAgICAgICAgICBjb25zdCB1cmwgPSAoaXRlbSBhcyBDU1NJbXBvcnRSdWxlKS5ocmVmXG4gICAgICAgICAgICBjb25zdCBkZWZlcnJlZCA9IGZldGNoQ1NTKHVybClcbiAgICAgICAgICAgICAgLnRoZW4oKG1ldGFkYXRhKSA9PiBlbWJlZEZvbnRzKG1ldGFkYXRhLCBvcHRpb25zKSlcbiAgICAgICAgICAgICAgLnRoZW4oKGNzc1RleHQpID0+XG4gICAgICAgICAgICAgICAgcGFyc2VDU1MoY3NzVGV4dCkuZm9yRWFjaCgocnVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShcbiAgICAgICAgICAgICAgICAgICAgICBydWxlLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGUuc3RhcnRzV2l0aCgnQGltcG9ydCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChpbXBvcnRJbmRleCArPSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzaGVldC5jc3NSdWxlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluc2VydGluZyBydWxlIGZyb20gcmVtb3RlIGNzcycsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICBydWxlLFxuICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyByZW1vdGUgY3NzJywgZS50b1N0cmluZygpKVxuICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBkZWZlcnJlZHMucHVzaChkZWZlcnJlZClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IGlubGluZSA9XG4gICAgICAgICAgc3R5bGVTaGVldHMuZmluZCgoYSkgPT4gYS5ocmVmID09IG51bGwpIHx8IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdXG4gICAgICAgIGlmIChzaGVldC5ocmVmICE9IG51bGwpIHtcbiAgICAgICAgICBkZWZlcnJlZHMucHVzaChcbiAgICAgICAgICAgIGZldGNoQ1NTKHNoZWV0LmhyZWYpXG4gICAgICAgICAgICAgIC50aGVuKChtZXRhZGF0YSkgPT4gZW1iZWRGb250cyhtZXRhZGF0YSwgb3B0aW9ucykpXG4gICAgICAgICAgICAgIC50aGVuKChjc3NUZXh0KSA9PlxuICAgICAgICAgICAgICAgIHBhcnNlQ1NTKGNzc1RleHQpLmZvckVhY2goKHJ1bGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlubGluZS5pbnNlcnRSdWxlKHJ1bGUsIHNoZWV0LmNzc1J1bGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcmVtb3RlIHN0eWxlc2hlZXQnLCBlcnIudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGlubGluaW5nIHJlbW90ZSBjc3MgZmlsZScsIGUudG9TdHJpbmcoKSlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKGRlZmVycmVkcykudGhlbigoKSA9PiB7XG4gICAgLy8gU2Vjb25kIGxvb3AgcGFyc2VzIHJ1bGVzXG4gICAgc3R5bGVTaGVldHMuZm9yRWFjaCgoc2hlZXQpID0+IHtcbiAgICAgIGlmICgnY3NzUnVsZXMnIGluIHNoZWV0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdG9BcnJheTxDU1NTdHlsZVJ1bGU+KHNoZWV0LmNzc1J1bGVzIHx8IFtdKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXQucHVzaChpdGVtKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIC8vICAgYEVycm9yIHdoaWxlIHJlYWRpbmcgQ1NTIHJ1bGVzIGZyb20gJHtzaGVldC5ocmVmfWAsXG4gICAgICAgICAgLy8gICBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgLy8gKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiByZXRcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0V2ViRm9udFJ1bGVzKGNzc1J1bGVzOiBDU1NTdHlsZVJ1bGVbXSk6IENTU1N0eWxlUnVsZVtdIHtcbiAgcmV0dXJuIGNzc1J1bGVzXG4gICAgLmZpbHRlcigocnVsZSkgPT4gcnVsZS50eXBlID09PSBDU1NSdWxlLkZPTlRfRkFDRV9SVUxFKVxuICAgIC5maWx0ZXIoKHJ1bGUpID0+IHNob3VsZEVtYmVkKHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnc3JjJykpKVxufVxuXG5hc3luYyBmdW5jdGlvbiBwYXJzZVdlYkZvbnRSdWxlczxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBub2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKSB7XG4gIGlmIChub2RlLm93bmVyRG9jdW1lbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgZWxlbWVudCBpcyBub3Qgd2l0aGluIGEgRG9jdW1lbnQnKVxuICB9XG5cbiAgY29uc3Qgc3R5bGVTaGVldHMgPSB0b0FycmF5PENTU1N0eWxlU2hlZXQ+KG5vZGUub3duZXJEb2N1bWVudC5zdHlsZVNoZWV0cylcbiAgY29uc3QgY3NzUnVsZXMgPSBhd2FpdCBnZXRDU1NSdWxlcyhzdHlsZVNoZWV0cywgb3B0aW9ucylcblxuICByZXR1cm4gZ2V0V2ViRm9udFJ1bGVzKGNzc1J1bGVzKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0V2ViRm9udENTUzxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBub2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcnVsZXMgPSBhd2FpdCBwYXJzZVdlYkZvbnRSdWxlcyhub2RlLCBvcHRpb25zKVxuICBjb25zdCBjc3NUZXh0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIHJ1bGVzLm1hcCgocnVsZSkgPT4ge1xuICAgICAgY29uc3QgYmFzZVVybCA9IHJ1bGUucGFyZW50U3R5bGVTaGVldCA/IHJ1bGUucGFyZW50U3R5bGVTaGVldC5ocmVmIDogbnVsbFxuICAgICAgcmV0dXJuIGVtYmVkUmVzb3VyY2VzKHJ1bGUuY3NzVGV4dCwgYmFzZVVybCwgb3B0aW9ucylcbiAgICB9KSxcbiAgKVxuXG4gIHJldHVybiBjc3NUZXh0cy5qb2luKCdcXG4nKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW1iZWRXZWJGb250czxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBjbG9uZWROb2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKSB7XG4gIGNvbnN0IGNzc1RleHQgPVxuICAgIG9wdGlvbnMuZm9udEVtYmVkQ1NTICE9IG51bGxcbiAgICAgID8gb3B0aW9ucy5mb250RW1iZWRDU1NcbiAgICAgIDogb3B0aW9ucy5za2lwRm9udHNcbiAgICAgID8gbnVsbFxuICAgICAgOiBhd2FpdCBnZXRXZWJGb250Q1NTKGNsb25lZE5vZGUsIG9wdGlvbnMpXG5cbiAgaWYgKGNzc1RleHQpIHtcbiAgICBjb25zdCBzdHlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgY29uc3Qgc3l0bGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzVGV4dClcblxuICAgIHN0eWxlTm9kZS5hcHBlbmRDaGlsZChzeXRsZUNvbnRlbnQpXG5cbiAgICBpZiAoY2xvbmVkTm9kZS5maXJzdENoaWxkKSB7XG4gICAgICBjbG9uZWROb2RlLmluc2VydEJlZm9yZShzdHlsZU5vZGUsIGNsb25lZE5vZGUuZmlyc3RDaGlsZClcbiAgICB9IGVsc2Uge1xuICAgICAgY2xvbmVkTm9kZS5hcHBlbmRDaGlsZChzdHlsZU5vZGUpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IGNsb25lTm9kZSB9IGZyb20gJy4vY2xvbmUtbm9kZSdcbmltcG9ydCB7IGVtYmVkSW1hZ2VzIH0gZnJvbSAnLi9lbWJlZC1pbWFnZXMnXG5pbXBvcnQgeyBhcHBseVN0eWxlIH0gZnJvbSAnLi9hcHBseS1zdHlsZSdcbmltcG9ydCB7IGVtYmVkV2ViRm9udHMsIGdldFdlYkZvbnRDU1MgfSBmcm9tICcuL2VtYmVkLXdlYmZvbnRzJ1xuaW1wb3J0IHtcbiAgZ2V0SW1hZ2VTaXplLFxuICBnZXRQaXhlbFJhdGlvLFxuICBjcmVhdGVJbWFnZSxcbiAgY2FudmFzVG9CbG9iLFxuICBub2RlVG9EYXRhVVJMLFxuICBjaGVja0NhbnZhc0RpbWVuc2lvbnMsXG59IGZyb20gJy4vdXRpbCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvU3ZnPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZ2V0SW1hZ2VTaXplKG5vZGUsIG9wdGlvbnMpXG4gIGNvbnN0IGNsb25lZE5vZGUgPSAoYXdhaXQgY2xvbmVOb2RlKG5vZGUsIG9wdGlvbnMsIHRydWUpKSBhcyBIVE1MRWxlbWVudFxuICBhd2FpdCBlbWJlZFdlYkZvbnRzKGNsb25lZE5vZGUsIG9wdGlvbnMpXG4gIGF3YWl0IGVtYmVkSW1hZ2VzKGNsb25lZE5vZGUsIG9wdGlvbnMpXG4gIGFwcGx5U3R5bGUoY2xvbmVkTm9kZSwgb3B0aW9ucylcbiAgY29uc3QgZGF0YXVyaSA9IGF3YWl0IG5vZGVUb0RhdGFVUkwoY2xvbmVkTm9kZSwgd2lkdGgsIGhlaWdodClcbiAgcmV0dXJuIGRhdGF1cmlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvQ2FudmFzPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRJbWFnZVNpemUobm9kZSwgb3B0aW9ucylcbiAgY29uc3Qgc3ZnID0gYXdhaXQgdG9Tdmcobm9kZSwgb3B0aW9ucylcbiAgY29uc3QgaW1nID0gYXdhaXQgY3JlYXRlSW1hZ2Uoc3ZnKVxuXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSFcbiAgY29uc3QgcmF0aW8gPSBvcHRpb25zLnBpeGVsUmF0aW8gfHwgZ2V0UGl4ZWxSYXRpbygpXG4gIGNvbnN0IGNhbnZhc1dpZHRoID0gb3B0aW9ucy5jYW52YXNXaWR0aCB8fCB3aWR0aFxuICBjb25zdCBjYW52YXNIZWlnaHQgPSBvcHRpb25zLmNhbnZhc0hlaWdodCB8fCBoZWlnaHRcblxuICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aCAqIHJhdGlvXG4gIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiByYXRpb1xuXG4gIGlmICghb3B0aW9ucy5za2lwQXV0b1NjYWxlKSB7XG4gICAgY2hlY2tDYW52YXNEaW1lbnNpb25zKGNhbnZhcylcbiAgfVxuICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtjYW52YXNXaWR0aH1gXG4gIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtjYW52YXNIZWlnaHR9YFxuXG4gIGlmIChvcHRpb25zLmJhY2tncm91bmRDb2xvcikge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3JcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodClcbiAgfVxuXG4gIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxuXG4gIHJldHVybiBjYW52YXNcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvUGl4ZWxEYXRhPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8VWludDhDbGFtcGVkQXJyYXk+IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRJbWFnZVNpemUobm9kZSwgb3B0aW9ucylcbiAgY29uc3QgY2FudmFzID0gYXdhaXQgdG9DYW52YXMobm9kZSwgb3B0aW9ucylcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhXG4gIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGFcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvUG5nPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IGNhbnZhcyA9IGF3YWl0IHRvQ2FudmFzKG5vZGUsIG9wdGlvbnMpXG4gIHJldHVybiBjYW52YXMudG9EYXRhVVJMKClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvSnBlZzxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBub2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zID0ge30sXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBjYW52YXMgPSBhd2FpdCB0b0NhbnZhcyhub2RlLCBvcHRpb25zKVxuICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIG9wdGlvbnMucXVhbGl0eSB8fCAxKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9CbG9iPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gIG5vZGU6IFQsXG4gIG9wdGlvbnM6IE9wdGlvbnMgPSB7fSxcbik6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcbiAgY29uc3QgY2FudmFzID0gYXdhaXQgdG9DYW52YXMobm9kZSwgb3B0aW9ucylcbiAgY29uc3QgYmxvYiA9IGF3YWl0IGNhbnZhc1RvQmxvYihjYW52YXMpXG4gIHJldHVybiBibG9iXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGb250RW1iZWRDU1M8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgbm9kZTogVCxcbiAgb3B0aW9uczogT3B0aW9ucyA9IHt9LFxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGdldFdlYkZvbnRDU1Mobm9kZSwgb3B0aW9ucylcbn1cbiIsImltcG9ydCB7IE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTdHlsZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICBub2RlOiBULFxuICBvcHRpb25zOiBPcHRpb25zLFxuKTogVCB7XG4gIGNvbnN0IHsgc3R5bGUgfSA9IG5vZGVcblxuICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvclxuICB9XG5cbiAgaWYgKG9wdGlvbnMud2lkdGgpIHtcbiAgICBzdHlsZS53aWR0aCA9IGAke29wdGlvbnMud2lkdGh9cHhgXG4gIH1cblxuICBpZiAob3B0aW9ucy5oZWlnaHQpIHtcbiAgICBzdHlsZS5oZWlnaHQgPSBgJHtvcHRpb25zLmhlaWdodH1weGBcbiAgfVxuXG4gIGNvbnN0IG1hbnVhbCA9IG9wdGlvbnMuc3R5bGVcbiAgaWYgKG1hbnVhbCAhPSBudWxsKSB7XG4gICAgT2JqZWN0LmtleXMobWFudWFsKS5mb3JFYWNoKChrZXk6IGFueSkgPT4ge1xuICAgICAgc3R5bGVba2V5XSA9IG1hbnVhbFtrZXldIGFzIHN0cmluZ1xuICAgIH0pXG4gIH1cblxuICByZXR1cm4gbm9kZVxufVxuIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInRoaXMiLCJuIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiY2FsbCIsInBvcCIsImxlbmd0aCIsInB1c2giLCJjb3VudGVyIiwidXVpZCIsImNvbmNhdCIsIk1hdGgiLCJyYW5kb20iLCJwb3ciLCJ0b1N0cmluZyIsInNsaWNlIiwidG9BcnJheSIsImFycmF5TGlrZSIsImFyciIsImkiLCJsIiwicHgiLCJub2RlIiwic3R5bGVQcm9wZXJ0eSIsInZhbCIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJnZXRJbWFnZVNpemUiLCJ0YXJnZXROb2RlIiwib3B0aW9ucyIsImxlZnRCb3JkZXIiLCJyaWdodEJvcmRlciIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJ0b3BCb3JkZXIiLCJib3R0b21Cb3JkZXIiLCJjbGllbnRIZWlnaHQiLCJnZXROb2RlSGVpZ2h0IiwiY2FudmFzRGltZW5zaW9uTGltaXQiLCJjYW52YXNUb0Jsb2IiLCJjYW52YXMiLCJ0b0Jsb2IiLCJ0eXBlIiwicXVhbGl0eSIsImJpbmFyeVN0cmluZyIsImF0b2IiLCJ0b0RhdGFVUkwiLCJ1bmRlZmluZWQiLCJzcGxpdCIsImxlbiIsImJpbmFyeUFycmF5IiwiVWludDhBcnJheSIsImNoYXJDb2RlQXQiLCJCbG9iIiwiY3JlYXRlSW1hZ2UiLCJ1cmwiLCJpbWciLCJJbWFnZSIsImRlY29kZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJjcm9zc09yaWdpbiIsImRlY29kaW5nIiwic3JjIiwic3ZnVG9EYXRhVVJMIiwic3ZnIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaHRtbCIsIm5vZGVUb0RhdGFVUkwiLCJ4bWxucyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiZm9yZWlnbk9iamVjdCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaXNJbnN0YW5jZU9mRWxlbWVudCIsImluc3RhbmNlIiwibm9kZVByb3RvdHlwZSIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZ2V0UHNldWRvRWxlbWVudFN0eWxlIiwiY2xhc3NOYW1lIiwicHNldWRvIiwic3R5bGUiLCJzZWxlY3RvciIsImNzc1RleHQiLCJjb250ZW50IiwiZm9ybWF0Q1NTVGV4dCIsIm1hcCIsInByaW9yaXR5IiwiZ2V0UHJvcGVydHlQcmlvcml0eSIsImpvaW4iLCJmb3JtYXRDU1NQcm9wZXJ0aWVzIiwiY3JlYXRlVGV4dE5vZGUiLCJjbG9uZVBzZXVkb0VsZW1lbnQiLCJuYXRpdmVOb2RlIiwiY2xvbmVkTm9kZSIsImVyciIsInN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJXT0ZGIiwiSlBFRyIsIm1pbWVzIiwid29mZiIsIndvZmYyIiwidHRmIiwiZW90IiwicG5nIiwianBnIiwianBlZyIsImdpZiIsInRpZmYiLCJ3ZWJwIiwiZ2V0TWltZVR5cGUiLCJleHRlbnNpb24iLCJtYXRjaCIsImV4ZWMiLCJnZXRFeHRlbnNpb24iLCJ0b0xvd2VyQ2FzZSIsImlzRGF0YVVybCIsInNlYXJjaCIsIm1ha2VEYXRhVXJsIiwibWltZVR5cGUiLCJmZXRjaEFzRGF0YVVSTCIsImluaXQiLCJwcm9jZXNzIiwiZmV0Y2giLCJyZXMiLCJfYSIsInN0YXR1cyIsIkVycm9yIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWRlbmQiLCJlcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjYWNoZSIsInJlc291cmNlVG9EYXRhVVJMIiwicmVzb3VyY2VVcmwiLCJjb250ZW50VHlwZSIsImNhY2hlS2V5IiwiaW5jbHVkZVF1ZXJ5UGFyYW1zIiwia2V5IiwidGVzdCIsImdldENhY2hlS2V5IiwiY2FjaGVCdXN0IiwiRGF0ZSIsImdldFRpbWUiLCJmZXRjaFJlcXVlc3RJbml0IiwiaGVhZGVycyIsImdldCIsImRhdGFVUkwiLCJnZXRDb250ZW50RnJvbURhdGFVcmwiLCJpbWFnZVBsYWNlaG9sZGVyIiwiY2xvbmVDYW52YXNFbGVtZW50IiwiY2xvbmVOb2RlIiwiY2xvbmVWaWRlb0VsZW1lbnQiLCJ2aWRlbyIsImN1cnJlbnRTcmMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwicG9zdGVyIiwiY2xvbmVJRnJhbWVFbGVtZW50IiwiaWZyYW1lIiwiY29udGVudERvY3VtZW50IiwiX2MiLCJkZWNvcmF0ZSIsIkVsZW1lbnQiLCJ0YXJnZXRTdHlsZSIsInNvdXJjZVN0eWxlIiwidHJhbnNmb3JtT3JpZ2luIiwiZm9yRWFjaCIsImVuZHNXaXRoIiwicmVkdWNlZEZvbnQiLCJmbG9vciIsInN1YnN0cmluZyIsImdldEF0dHJpYnV0ZSIsIkhUTUxJRnJhbWVFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJjbG9uZUNTU1N0eWxlIiwiY2xvbmVQc2V1ZG9FbGVtZW50cyIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJpbm5lckhUTUwiLCJIVE1MSW5wdXRFbGVtZW50IiwiY2xvbmVJbnB1dFZhbHVlIiwiSFRNTFNlbGVjdEVsZW1lbnQiLCJjbG9uZWRTZWxlY3QiLCJzZWxlY3RlZE9wdGlvbiIsIkFycmF5IiwiZnJvbSIsImNoaWxkcmVuIiwiZmluZCIsImNoaWxkIiwiY2xvbmVTZWxlY3RWYWx1ZSIsImlzUm9vdCIsImZpbHRlciIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsImNsb25lU2luZ2xlTm9kZSIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsImFzc2lnbmVkTm9kZXMiLCJjaGlsZE5vZGVzIiwic2hhZG93Um9vdCIsIl9iIiwicmVkdWNlIiwiZGVmZXJyZWQiLCJjbG9uZWRDaGlsZCIsImNsb25lQ2hpbGRyZW4iLCJjbG9uZSIsInVzZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJvY2Vzc2VkRGVmcyIsInVzZSIsImlkIiwiZXhpc3QiLCJxdWVyeVNlbGVjdG9yIiwiZGVmaW5pdGlvbiIsIm5vZGVzIiwidmFsdWVzIiwibnMiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwiZGlzcGxheSIsImRlZnMiLCJlbnN1cmVTVkdTeW1ib2xzIiwiVVJMX1JFR0VYIiwiVVJMX1dJVEhfRk9STUFUX1JFR0VYIiwiRk9OVF9TUkNfUkVHRVgiLCJlbWJlZCIsInJlc291cmNlVVJMIiwiYmFzZVVSTCIsImdldENvbnRlbnRGcm9tVXJsIiwicmVzb2x2ZWRVUkwiLCJiYXNlVXJsIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImRvYyIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiYmFzZSIsImEiLCJoZWFkIiwiaHJlZiIsInJlc29sdmVVcmwiLCJlc2NhcGVkIiwiUmVnRXhwIiwic2hvdWxkRW1iZWQiLCJlbWJlZFJlc291cmNlcyIsImZpbHRlcmVkQ1NTVGV4dCIsInN0ciIsInByZWZlcnJlZEZvbnRGb3JtYXQiLCJmb3JtYXQiLCJmaWx0ZXJQcmVmZXJyZWRGb250Rm9ybWF0IiwidXJscyIsInJhdyIsInF1b3RhdGlvbiIsInBhcnNlVVJMcyIsImNzcyIsImVtYmVkQmFja2dyb3VuZCIsImJhY2tncm91bmQiLCJjc3NTdHJpbmciLCJlbWJlZEltYWdlTm9kZSIsImlzSW1hZ2VFbGVtZW50IiwiSFRNTEltYWdlRWxlbWVudCIsIlNWR0ltYWdlRWxlbWVudCIsImJhc2VWYWwiLCJwcm9taXNlIiwiaW1hZ2UiLCJsb2FkaW5nIiwic3Jjc2V0IiwiZW1iZWRDaGlsZHJlbiIsImRlZmVycmVkcyIsImVtYmVkSW1hZ2VzIiwiYWxsIiwiY3NzRmV0Y2hDYWNoZSIsImZldGNoQ1NTIiwidGV4dCIsImVtYmVkRm9udHMiLCJkYXRhIiwicmVnZXhVcmwiLCJmb250TG9jcyIsImxvYWRGb250cyIsImxvYyIsIl90aGlzIiwic3RhcnRzV2l0aCIsIlVSTCIsInBhcnNlQ1NTIiwic291cmNlIiwia2V5ZnJhbWVzUmVnZXgiLCJtYXRjaGVzIiwiaW1wb3J0UmVnZXgiLCJ1bmlmaWVkUmVnZXgiLCJsYXN0SW5kZXgiLCJnZXRDU1NSdWxlcyIsInN0eWxlU2hlZXRzIiwicmV0Iiwic2hlZXQiLCJjc3NSdWxlcyIsIml0ZW0iLCJpbmRleCIsIkNTU1J1bGUiLCJJTVBPUlRfUlVMRSIsImltcG9ydEluZGV4XzEiLCJtZXRhZGF0YSIsInJ1bGUiLCJpbnNlcnRSdWxlIiwiY2F0Y2giLCJpbmxpbmVfMSIsImdldFdlYkZvbnRSdWxlcyIsIkZPTlRfRkFDRV9SVUxFIiwicGFyc2VXZWJGb250UnVsZXMiLCJnZXRXZWJGb250Q1NTIiwicnVsZXMiLCJwYXJlbnRTdHlsZVNoZWV0IiwiZW1iZWRXZWJGb250cyIsImZvbnRFbWJlZENTUyIsInNraXBGb250cyIsInN0eWxlTm9kZSIsInN5dGxlQ29udGVudCIsImZpcnN0Q2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJ0b1N2ZyIsImJhY2tncm91bmRDb2xvciIsIm1hbnVhbCIsImtleXMiLCJhcHBseVN0eWxlIiwidG9DYW52YXMiLCJjb250ZXh0IiwicmF0aW8iLCJwaXhlbFJhdGlvIiwiRklOQUxfUFJPQ0VTUyIsImVudiIsImRldmljZVBpeGVsUmF0aW8iLCJwYXJzZUludCIsIk51bWJlciIsImlzTmFOIiwiZ2V0UGl4ZWxSYXRpbyIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0Iiwic2tpcEF1dG9TY2FsZSIsImNoZWNrQ2FudmFzRGltZW5zaW9ucyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZ2V0SW1hZ2VEYXRhIl0sIm1hcHBpbmdzIjoibVBBcUVPLFNBQVNBLEVBQVVDLEVBQVNDLEVBQVlDLEVBQUdDLEdBRTlDLE9BQU8sSUFBS0QsSUFBTUEsRUFBSUUsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVQyxHQUFTLElBQU1DLEVBQUtOLEVBQVVPLEtBQUtGLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssR0FBTyxDQUMzRixTQUFTQyxFQUFTSixHQUFTLElBQU1DLEVBQUtOLEVBQWlCLE1BQUVLLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssR0FBTyxDQUM5RixTQUFTRixFQUFLSSxHQUpsQixJQUFlTCxFQUlhSyxFQUFPQyxLQUFPVCxFQUFRUSxFQUFPTCxRQUoxQ0EsRUFJeURLLEVBQU9MLE1BSmhEQSxhQUFpQk4sRUFBSU0sRUFBUSxJQUFJTixHQUFFLFNBQVVHLEdBQVdBLEVBQVFHLEVBQU8sS0FJaEJPLEtBQUtSLEVBQVdLLEVBQVksQ0FDOUdILEdBQU1OLEVBQVlBLEVBQVVhLE1BQU1oQixFQUFTQyxHQUFjLEtBQUtTLE9BQ3RFLEdBQ0EsQ0FFTyxTQUFTTyxFQUFZakIsRUFBU2tCLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHQyxFQUFHQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBKLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxFQUFLLEVBQUVLLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVaLEtBQU1rQixFQUFLLEdBQUlDLE1BQVNELEVBQUssR0FBSUUsT0FBVUYsRUFBSyxJQUF3QixtQkFBWEcsU0FBMEJULEVBQUVTLE9BQU9DLFVBQVksV0FBYSxPQUFPQyxJQUFPLEdBQUdYLEVBQ3ZKLFNBQVNNLEVBQUtNLEdBQUssT0FBTyxTQUFVQyxHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWpCLEVBQUcsTUFBTSxJQUFJa0IsVUFBVSxtQ0FDM0IsS0FBT2YsSUFBTUEsRUFBSSxFQUFHYyxFQUFHLEtBQU9iLEVBQUksSUFBS0EsT0FDbkMsR0FBSUosRUFBSSxFQUFHQyxJQUFNQyxFQUFZLEVBQVJlLEVBQUcsR0FBU2hCLEVBQVUsT0FBSWdCLEVBQUcsR0FBS2hCLEVBQVMsU0FBT0MsRUFBSUQsRUFBVSxTQUFNQyxFQUFFaUIsS0FBS2xCLEdBQUksR0FBS0EsRUFBRVYsU0FBV1csRUFBSUEsRUFBRWlCLEtBQUtsQixFQUFHZ0IsRUFBRyxLQUFLdEIsS0FBTSxPQUFPTyxFQUUzSixPQURJRCxFQUFJLEVBQUdDLElBQUdlLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVFmLEVBQUViLFFBQ3pCNEIsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUdmLEVBQUllLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhiLEVBQUVDLFFBQWdCLENBQUVoQixNQUFPNEIsRUFBRyxHQUFJdEIsTUFBTSxHQUNoRCxLQUFLLEVBQUdTLEVBQUVDLFFBQVNKLEVBQUlnQixFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS2IsRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEIsRUFBSUUsRUFBRUcsTUFBTUwsRUFBSUEsRUFBRW1CLE9BQVMsR0FBS25CLEVBQUVBLEVBQUVtQixPQUFTLEtBQWtCLElBQVZKLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUViLEVBQUksRUFBRyxRQUFXLENBQzVHLEdBQWMsSUFBVmEsRUFBRyxNQUFjZixHQUFNZSxFQUFHLEdBQUtmLEVBQUUsSUFBTWUsRUFBRyxHQUFLZixFQUFFLElBQU0sQ0FBRUUsRUFBRUMsTUFBUVksRUFBRyxHQUFJLEtBQVEsQ0FDdEYsR0FBYyxJQUFWQSxFQUFHLElBQVliLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlBLEVBQUllLEVBQUksS0FBUSxDQUNyRSxHQUFJZixHQUFLRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUksQ0FBRUUsRUFBRUMsTUFBUUgsRUFBRSxHQUFJRSxFQUFFSSxJQUFJYyxLQUFLTCxHQUFLLEtBQVEsQ0FDL0RmLEVBQUUsSUFBSUUsRUFBRUksSUFBSVksTUFDaEJoQixFQUFFRyxLQUFLYSxNQUFPLFNBRXRCSCxFQUFLbEIsRUFBS29CLEtBQUt0QyxFQUFTdUIsR0FDMUIsTUFBT1osR0FBS3lCLEVBQUssQ0FBQyxFQUFHekIsR0FBSVMsRUFBSSxDQUFFLENBQVcsUUFBRUQsRUFBSUUsRUFBSSxDQUFJLENBQzFELEdBQVksRUFBUmUsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUU1QixNQUFPNEIsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUXRCLE1BQU0sRUFDN0UsQ0F0QitDTCxDQUFLLENBQUN5QixFQUFHQyxHQUFNLENBQUcsQ0F1QnRFLENDdkVPLElBR0RPLEVBSE9DLEdBR1BELEVBQVUsRUFPUCxXQUVMLE9BREFBLEdBQVcsRUFDSixXQUpQLE9BQU9FLFFBQUVDLEtBQUtDLFNBQVdELEtBQUFFLElBQUEsR0FBTSxJQUFNLEdBQUdDLFNBQVMsS0FBTUMsT0FBTyxJQUl4Q0wsT0FBQUYsRUFDeEIsR0FVSSxTQUFVUSxFQUFXQyxHQUd6QixJQUZBLElBQU1DLEVBQVcsR0FFUkMsRUFBSSxFQUFHQyxFQUFJSCxFQUFVWCxPQUFRYSxFQUFJQyxFQUFHRCxJQUMzQ0QsRUFBSVgsS0FBS1UsRUFBVUUsSUFHckIsT0FBT0QsQ0FDVCxDQUVBLFNBQVNHLEVBQUdDLEVBQW1CQyxHQUM3QixJQUNNQyxHQURNRixFQUFLRyxjQUFjQyxhQUFlQyxRQUM5QkMsaUJBQWlCTixHQUFNTyxpQkFBaUJOLEdBQ3hELE9BQU9DLEVBQU1NLFdBQVdOLEVBQUlPLFFBQVEsS0FBTSxLQUFPLENBQ25ELENBY2dCLFNBQUFDLEVBQWFDLEVBQXlCQyxRQUFBLElBQUFBLElBQUFBLEVBQXFCLENBQUEsR0FDekUsSUFib0JaLEVBQ2RhLEVBQ0FDLEVBV0FDLEVBQVFILEVBQVFHLFFBWmhCRixFQUFhZCxFQURDQyxFQWF3QlcsRUFaaEIscUJBQ3RCRyxFQUFjZixFQUFHQyxFQUFNLHNCQUN0QkEsRUFBS2dCLFlBQWNILEVBQWFDLEdBV2pDRyxFQUFTTCxFQUFRSyxRQVJ6QixTQUF1QmpCLEdBQ3JCLElBQU1rQixFQUFZbkIsRUFBR0MsRUFBTSxvQkFDckJtQixFQUFlcEIsRUFBR0MsRUFBTSx1QkFDOUIsT0FBT0EsRUFBS29CLGFBQWVGLEVBQVlDLENBQ3pDLENBSW1DRSxDQUFjVixHQUUvQyxNQUFPLENBQUVJLE1BQUtBLEVBQUVFLE9BQU1BLEVBQ3hCLENBMEJBLElBQU1LLEVBQXVCLE1BNEJiLFNBQUFDLEVBQ2RDLEVBQ0FaLEdBRUEsWUFGQSxJQUFBQSxJQUFBQSxFQUFxQixDQUFBLEdBRWpCWSxFQUFPQyxPQUNGLElBQUk3RSxTQUFRLFNBQUNDLEdBQ2xCMkUsRUFBT0MsT0FDTDVFLEVBQ0ErRCxFQUFRYyxLQUFPZCxFQUFRYyxLQUFPLFlBQzlCZCxFQUFRZSxRQUFVZixFQUFRZSxRQUFVLEVBRXhDLElBR0ssSUFBSS9FLFNBQVEsU0FBQ0MsR0FZbEIsSUFYQSxJQUFNK0UsRUFBZXZCLE9BQU93QixLQUMxQkwsRUFDR00sVUFDQ2xCLEVBQVFjLEtBQU9kLEVBQVFjLFVBQU9LLEVBQzlCbkIsRUFBUWUsUUFBVWYsRUFBUWUsYUFBVUksR0FFckNDLE1BQU0sS0FBSyxJQUVWQyxFQUFNTCxFQUFhNUMsT0FDbkJrRCxFQUFjLElBQUlDLFdBQVdGLEdBRTFCcEMsRUFBSSxFQUFHQSxFQUFJb0MsRUFBS3BDLEdBQUssRUFDNUJxQyxFQUFZckMsR0FBSytCLEVBQWFRLFdBQVd2QyxHQUczQ2hELEVBQ0UsSUFBSXdGLEtBQUssQ0FBQ0gsR0FBYyxDQUN0QlIsS0FBTWQsRUFBUWMsS0FBT2QsRUFBUWMsS0FBTyxjQUcxQyxHQUNGLENBRU0sU0FBVVksRUFBWUMsR0FDMUIsT0FBTyxJQUFJM0YsU0FBUSxTQUFDQyxFQUFTQyxHQUMzQixJQUFNMEYsRUFBTSxJQUFJQyxNQUNoQkQsRUFBSUUsT0FBUyxXQUFNLE9BQUE3RixFQUFRMkYsSUFDM0JBLEVBQUlHLE9BQVMsV0FBTSxPQUFBOUYsRUFBUTJGLElBQzNCQSxFQUFJSSxRQUFVOUYsRUFDZDBGLEVBQUlLLFlBQWMsWUFDbEJMLEVBQUlNLFNBQVcsUUFDZk4sRUFBSU8sSUFBTVIsQ0FDWixHQUNGLENBRU0sU0FBZ0JTLEVBQWFDLHNFQUNqQyxNQUFPLENBQUEsRUFBQXJHLFFBQVFDLFVBQ1pVLE1BQUssV0FBTSxPQUFBLElBQUkyRixlQUFnQkMsa0JBQWtCRixNQUNqRDFGLEtBQUs2RixvQkFDTDdGLE1BQUssU0FBQzhGLEdBQVMsTUFBQSxvQ0FBb0NqRSxPQUFBaUUsRUFBTSxVQUM3RCxVQUVxQkMsRUFDcEJ0RCxFQUNBZSxFQUNBRSxnRkFtQkEsT0FqQk1zQyxFQUFRLDZCQUNSTixFQUFNTyxTQUFTQyxnQkFBZ0JGLEVBQU8sT0FDdENHLEVBQWdCRixTQUFTQyxnQkFBZ0JGLEVBQU8saUJBRXRETixFQUFJVSxhQUFhLFFBQVMsR0FBR3ZFLE9BQUEyQixJQUM3QmtDLEVBQUlVLGFBQWEsU0FBVSxHQUFHdkUsT0FBQTZCLElBQzlCZ0MsRUFBSVUsYUFBYSxVQUFXLE9BQU92RSxPQUFBMkIsRUFBUyxLQUFBM0IsT0FBQTZCLElBRTVDeUMsRUFBY0MsYUFBYSxRQUFTLFFBQ3BDRCxFQUFjQyxhQUFhLFNBQVUsUUFDckNELEVBQWNDLGFBQWEsSUFBSyxLQUNoQ0QsRUFBY0MsYUFBYSxJQUFLLEtBQ2hDRCxFQUFjQyxhQUFhLDRCQUE2QixRQUV4RFYsRUFBSVcsWUFBWUYsR0FDaEJBLEVBQWNFLFlBQVk1RCxHQUUxQixDQUFBLEVBQU9nRCxFQUFhQyxTQUNyQixDQUVNLElBQU1ZLEVBQXNCLFNBR2pDN0QsRUFDQThELEdBRUEsR0FBSTlELGFBQWdCOEQsRUFBVSxPQUFPLEVBRXJDLElBQU1DLEVBQWdCQyxPQUFPQyxlQUFlakUsR0FFNUMsT0FBc0IsT0FBbEIrRCxJQUdGQSxFQUFjRyxZQUFZQyxPQUFTTCxFQUFTSyxNQUM1Q04sRUFBb0JFLEVBQWVELEdBRXZDLEVDOU5BLFNBQVNNLEVBQ1BDLEVBQ0FDLEVBQ0FDLEdBRUEsSUFBTUMsRUFBVyxJQUFBcEYsT0FBSWlGLEVBQWEsS0FBQWpGLE9BQUFrRixHQUM1QkcsRUFBVUYsRUFBTUUsUUF0QnhCLFNBQXVCRixHQUNyQixJQUFNRyxFQUFVSCxFQUFNaEUsaUJBQWlCLFdBQ3ZDLE1BQU8sR0FBR25CLE9BQUFtRixFQUFNRSw4QkFBcUJDLEVBQVFqRSxRQUFRLE9BQVEsU0FDL0QsQ0FvQk1rRSxDQUFjSixHQWxCcEIsU0FBNkJBLEdBQzNCLE9BQU83RSxFQUFnQjZFLEdBQ3BCSyxLQUFJLFNBQUNULEdBQ0osSUFBTW5ILEVBQVF1SCxFQUFNaEUsaUJBQWlCNEQsR0FDL0JVLEVBQVdOLEVBQU1PLG9CQUFvQlgsR0FFM0MsTUFBTyxHQUFHL0UsT0FBQStFLEVBQVMsTUFBQS9FLE9BQUFwQyxVQUFRNkgsRUFBVyxjQUFnQixPQUN4RCxJQUNDRSxLQUFLLElBQ1YsQ0FVTUMsQ0FBb0JULEdBRXhCLE9BQU9mLFNBQVN5QixlQUFlLEdBQUE3RixPQUFHb0YsRUFBWSxLQUFBcEYsT0FBQXFGLEVBQVUsS0FDMUQsQ0FFQSxTQUFTUyxFQUNQQyxFQUNBQyxFQUNBZCxHQUVBLElBQU1DLEVBQVFsRSxPQUFPQyxpQkFBaUI2RSxFQUFZYixHQUM1Q0ksRUFBVUgsRUFBTWhFLGlCQUFpQixXQUN2QyxHQUFnQixLQUFabUUsR0FBOEIsU0FBWkEsRUFBdEIsQ0FJQSxJQUFNTCxFQUFZbEYsSUFDbEIsSUFDRWlHLEVBQVdmLFVBQVksR0FBR2pGLE9BQUFnRyxFQUFXZixVQUFTLEtBQUFqRixPQUFJaUYsRUFHbkQsQ0FGQyxNQUFPZ0IsR0FDUCxNQUNELENBRUQsSUFBTUMsRUFBZTlCLFNBQVMrQixjQUFjLFNBQzVDRCxFQUFhMUIsWUFBWVEsRUFBc0JDLEVBQVdDLEVBQVFDLElBQ2xFYSxFQUFXeEIsWUFBWTBCLEVBWHRCLENBWUgsQ0N0REEsSUFBTUUsRUFBTyx3QkFDUEMsRUFBTyxhQUNQQyxFQUFtQyxDQUN2Q0MsS0FBTUgsRUFDTkksTUFBT0osRUFDUEssSUFBSyw0QkFDTEMsSUFBSyxnQ0FDTEMsSUFBSyxZQUNMQyxJQUFLUCxFQUNMUSxLQUFNUixFQUNOUyxJQUFLLFlBQ0xDLEtBQU0sYUFDTmxELElBQUssZ0JBQ0xtRCxLQUFNLGNBUUYsU0FBVUMsRUFBWTlELEdBQzFCLElBQU0rRCxFQU5SLFNBQXNCL0QsR0FDcEIsSUFBTWdFLEVBQVEsZ0JBQWdCQyxLQUFLakUsR0FDbkMsT0FBT2dFLEVBQVFBLEVBQU0sR0FBSyxFQUM1QixDQUdvQkUsQ0FBYWxFLEdBQUttRSxjQUNwQyxPQUFPaEIsRUFBTVksSUFBYyxFQUM3QixDQ2xCTSxTQUFVSyxFQUFVcEUsR0FDeEIsT0FBbUMsSUFBNUJBLEVBQUlxRSxPQUFPLFdBQ3BCLENBRWdCLFNBQUFDLEVBQVluQyxFQUFpQm9DLEdBQzNDLE1BQU8sUUFBUTFILE9BQUEwSCxFQUFtQixZQUFBMUgsT0FBQXNGLEVBQ3BDLFVBRXNCcUMsRUFDcEJ4RSxFQUNBeUUsRUFDQUMsOEZBRVksS0FBQSxFQUFBLE1BQUEsQ0FBQSxFQUFNQyxNQUFNM0UsRUFBS3lFLFdBQzdCLEdBQW1CLE9BRGJHLEVBQU1DLEVBQXNCbkosUUFDMUJvSixPQUNOLE1BQU0sSUFBSUMsTUFBTSxhQUFBbEksT0FBYStILEVBQUk1RSxJQUFnQixnQkFFdEMsTUFBQSxDQUFBLEVBQU00RSxFQUFJSSxlQUN2QixPQURNQSxFQUFPSCxFQUFnQm5KLE9BQzdCLENBQUEsRUFBTyxJQUFJckIsU0FBVyxTQUFDQyxFQUFTQyxHQUM5QixJQUFNMEssRUFBUyxJQUFJQyxXQUNuQkQsRUFBTzVFLFFBQVU5RixFQUNqQjBLLEVBQU9FLFVBQVksV0FDakIsSUFDRTdLLEVBQVFvSyxFQUFRLENBQUVFLElBQUdBLEVBQUU5SixPQUFRbUssRUFBT25LLFNBR3ZDLENBRkMsTUFBT3NLLEdBQ1A3SyxFQUFPNkssRUFDUixDQUNILEVBRUFILEVBQU9JLGNBQWNMLEVBQ3RCLFdBQ0YsQ0FFRCxJQUFNTSxFQUFtQyxDQUFBLFdBcUJuQkMsRUFDcEJDLEVBQ0FDLEVBQ0FwSCx1R0FRQSxHQU5NcUgsRUF4QlIsU0FDRTFGLEVBQ0F5RixFQUNBRSxHQUVBLElBQUlDLEVBQU01RixFQUFJOUIsUUFBUSxPQUFRLElBVzlCLE9BVEl5SCxJQUNGQyxFQUFNNUYsR0FJSixzQkFBc0I2RixLQUFLRCxLQUM3QkEsRUFBTUEsRUFBSTFILFFBQVEsT0FBUSxLQUdyQnVILEVBQWMsSUFBSTVJLE9BQUE0SSxFQUFlLEtBQUE1SSxPQUFBK0ksR0FBUUEsQ0FDbEQsQ0FPbUJFLENBQ2ZOLEVBQ0FDLEVBQ0FwSCxFQUFRc0gsb0JBR2EsTUFBbkJMLEVBQU1JLEdBQ1IsTUFBQSxDQUFBLEVBQU9KLEVBQU1JLElBSVhySCxFQUFRMEgsWUFFVlAsSUFBZ0IsS0FBS0ssS0FBS0wsR0FBZSxJQUFNLE1BQU8sSUFBSVEsTUFBT0MsNEJBS2pELDZCQUFNLENBQUEsRUFBQXpCLEVBQ3BCZ0IsRUFDQW5ILEVBQVE2SCxrQkFDUixTQUFDckIsT0FBRUQsRUFBR0MsRUFBQUQsSUFBRTlKLEVBQU0rSixFQUFBL0osT0FLWixPQUpLMkssSUFFSEEsRUFBY2IsRUFBSXVCLFFBQVFDLElBQUksaUJBQW1CLElBdkYzRCxTQUErQkMsR0FDN0IsT0FBT0EsRUFBUTVHLE1BQU0sS0FBSyxFQUM1QixDQXVGZTZHLENBQXNCeEwsRUFDOUIsbUJBVEdxSCxFQUFVMEMsRUFVZm5KLE9BQ0QySyxFQUFVL0IsRUFBWW5DLEVBQVNzRCxnQ0FFL0JZLEVBQVVoSSxFQUFRa0ksa0JBQW9CLGdCQWF4QyxPQURBakIsRUFBTUksR0FBWVcsRUFDbEIsQ0FBQSxFQUFPQSxTQUNSLENDeEdELFNBQWVHLEVBQW1CdkgsNEVBRWhDLE1BQWdCLFlBRFZvSCxFQUFVcEgsRUFBT00sYUFFckIsQ0FBQSxFQUFPTixFQUFPd0gsV0FBVSxJQUUxQixDQUFBLEVBQU8xRyxFQUFZc0csU0FDcEIsQ0FFRCxTQUFlSyxFQUFrQkMsRUFBeUJ0SSx5R0FDeEQsT0FBSXNJLEVBQU1DLFlBQ0YzSCxFQUFTZ0MsU0FBUytCLGNBQWMsVUFDaEM2RCxFQUFNNUgsRUFBTzZILFdBQVcsTUFDOUI3SCxFQUFPVCxNQUFRbUksRUFBTWxJLFlBQ3JCUSxFQUFPUCxPQUFTaUksRUFBTTlILGFBQ3RCZ0ksU0FBQUEsRUFBS0UsVUFBVUosRUFBTyxFQUFHLEVBQUcxSCxFQUFPVCxNQUFPUyxFQUFPUCxRQUVqRCxDQUFBLEVBQU9xQixFQURTZCxFQUFPTSxnQkFJbkJ5SCxFQUFTTCxFQUFNSyxPQUNmdkIsRUFBYzNCLEVBQVlrRCxHQUNWLENBQUEsRUFBQXpCLEVBQWtCeUIsRUFBUXZCLEVBQWFwSCxZQUM3RCxNQUFBLENBQUEsRUFBTzBCLEVBRFM4RSxFQUFxRG5KLGVBRXRFLENBRUQsU0FBZXVMLEVBQW1CQyxtR0FFMUIsOEJBQXlCLFFBQXpCckMsRUFBQXFDLGFBQUEsRUFBQUEsRUFBUUMsdUJBQWlCLElBQUF0QyxPQUFBLEVBQUFBLEVBQUExSixNQUNuQixDQUFBLEVBQU1zTCxFQUNaUyxFQUFPQyxnQkFBZ0JoTSxLQUN2QixDQUFBLEdBQ0EsSUFKNkIsQ0FBQSxFQUFBLFVBQy9CLE1BQU8sQ0FBQSxFQUFDaU0sRUFJUDFMLHdEQU1MLEtBQUEsRUFBQSxNQUFBLENBQUEsRUFBT3dMLEVBQU9ULFdBQVUsVUFDekIsQ0E0SEQsU0FBU1ksRUFBZ0N6RSxFQUFlQyxHQVF0RCxPQVBJdkIsRUFBb0J1QixFQUFZeUUsV0E3RHRDLFNBQThDMUUsRUFBZUMsR0FDM0QsSUFBTTBFLEVBQWMxRSxFQUFXYixNQUMvQixHQUFLdUYsRUFBTCxDQUlBLElBQU1DLEVBQWMxSixPQUFPQyxpQkFBaUI2RSxHQUN4QzRFLEVBQVl0RixTQUNkcUYsRUFBWXJGLFFBQVVzRixFQUFZdEYsUUFDbENxRixFQUFZRSxnQkFBa0JELEVBQVlDLGlCQUUxQ3RLLEVBQWdCcUssR0FBYUUsU0FBUSxTQUFDOUYsR0FDcEMsSUFBSW5ILEVBQVErTSxFQUFZeEosaUJBQWlCNEQsR0FDekMsR0FBYSxjQUFUQSxHQUF3Qm5ILEVBQU1rTixTQUFTLE1BQU8sQ0FDaEQsSUFBTUMsRUFDSjlLLEtBQUsrSyxNQUFNNUosV0FBV3hELEVBQU1xTixVQUFVLEVBQUdyTixFQUFNZ0MsT0FBUyxLQUFPLEdBQ2pFaEMsRUFBUSxHQUFBb0MsT0FBRytLLEVBQVcsS0FDdkIsQ0FDWSxNQUFUaEcsR0FBZ0JpQixFQUFXa0YsYUFBYSxPQUMxQ3ROLEVBQVEsZUFBUW9JLEVBQVdrRixhQUFhLEtBQUksTUFHNUN6RyxFQUFvQnNCLEVBQVlvRixvQkFDdkIsWUFBVHBHLEdBQ1UsV0FBVm5ILElBRUFBLEVBQVEsU0FFVjhNLEVBQVlVLFlBQ1ZyRyxFQUNBbkgsRUFDQStNLEVBQVlqRixvQkFBb0JYLEdBRXBDLEdBN0JELENBK0JILENBMkJJc0csQ0FBY3RGLEVBQVlDLEdIbkhkLFNBQ2RELEVBQ0FDLEdBRUFGLEVBQW1CQyxFQUFZQyxFQUFZLFdBQzNDRixFQUFtQkMsRUFBWUMsRUFBWSxTQUM3QyxDRzhHSXNGLENBQW9CdkYsRUFBWUMsR0ExQnBDLFNBQWdERCxFQUFlQyxHQUN6RHZCLEVBQW9Cc0IsRUFBWXdGLHVCQUNsQ3ZGLEVBQVd3RixVQUFZekYsRUFBV25JLE9BR2hDNkcsRUFBb0JzQixFQUFZMEYsbUJBQ2xDekYsRUFBV3pCLGFBQWEsUUFBU3dCLEVBQVduSSxNQUVoRCxDQW1CSThOLENBQWdCM0YsRUFBWUMsR0FqQmhDLFNBQWlERCxFQUFlQyxHQUM5RCxHQUFJdkIsRUFBb0JzQixFQUFZNEYsbUJBQW9CLENBQ3RELElBQU1DLEVBQWU1RixFQUNmNkYsRUFBaUJDLE1BQU1DLEtBQUtILEVBQWFJLFVBQVVDLE1BQ3ZELFNBQUNDLEdBQVUsT0FBQW5HLEVBQVduSSxRQUFVc08sRUFBTWhCLGFBQWEsUUFBeEMsSUFHVFcsR0FDRkEsRUFBZXRILGFBQWEsV0FBWSxHQUUzQyxDQUNILENBT0k0SCxDQUFpQnBHLEVBQVlDLElBR3hCQSxDQUNULFVBaURzQjRELEVBQ3BCaEosRUFDQVksRUFDQTRLLHNFQUVBLE9BQUtBLElBQVU1SyxFQUFRNkssUUFBVzdLLEVBQVE2SyxPQUFPekwsR0FJakQsQ0FBQSxFQUFPcEQsUUFBUUMsUUFBUW1ELEdBQ3BCekMsTUFBSyxTQUFDNkgsR0FBZSxPQTlMMUIsU0FDRXBGLEVBQ0FZLHNFQUVBLE9BQUlpRCxFQUFvQjdELEVBQU0wTCxtQkFDNUIsQ0FBQSxFQUFPM0MsRUFBbUIvSSxJQUd4QjZELEVBQW9CN0QsRUFBTTJMLGtCQUM1QixDQUFBLEVBQU8xQyxFQUFrQmpKLEVBQU1ZLElBRzdCaUQsRUFBb0I3RCxFQUFNdUssbUJBQzVCLENBQUEsRUFBT2YsRUFBbUJ4SixJQUc1QixDQUFBLEVBQU9BLEVBQUtnSixXQUFVLFNBQ3ZCLENBNkt5QjRDLENBQWdCeEcsRUFBWXhFLE1BQ2pEckQsTUFBSyxTQUFDNkgsR0FBZSxPQXpLMUIsU0FDRUQsRUFDQUMsRUFDQXhFLDJHQWVBLE9BYkl3SyxFQUFnQixHQWNFLEtBWHBCQSxFQVZjLE9BREtwTCxFQVVIbUYsR0FUYjBHLFNBQWtELFNBQS9CN0wsRUFBSzZMLFFBQVFDLGVBU0ozRyxFQUFXNEcsY0FDL0JyTSxFQUFXeUYsRUFBVzRHLGlCQUVqQ2xJLEVBQW9Cc0IsRUFBWW9GLHFCQUNKLFFBQTVCbkQsRUFBQWpDLEVBQVd1RSx1QkFBaUIsSUFBQXRDLE9BQUEsRUFBQUEsRUFBQTFKLE1BRWpCZ0MsRUFBV3lGLEVBQVd1RSxnQkFBZ0JoTSxLQUFLc08sWUFFM0N0TSxHQUFpQyxVQUFyQnlGLEVBQVc4RyxrQkFBVSxJQUFBQyxFQUFBQSxFQUFJL0csR0FBWTZHLGFBSW5EaE4sUUFDVDZFLEVBQW9Cc0IsRUFBWXdHLGtCQUVoQyxDQUFBLEVBQU92RyxHQUdULENBQUEsRUFBTWdHLEVBQVNlLFFBQ2IsU0FBQ0MsRUFBVWQsR0FDVCxPQUFBYyxFQUNHN08sTUFBSyxXQUFNLE9BQUF5TCxFQUFVc0MsRUFBTzFLLE1BQzVCckQsTUFBSyxTQUFDOE8sR0FDREEsR0FDRmpILEVBQVd4QixZQUFZeUksRUFFM0IsR0FORixHQU9GelAsUUFBUUMsbUJBR1YsT0FaQThNLEVBQUExTCxPQVlBLENBQUEsRUFBT21ILEdBeENhLElBQUNwRixPQXlDdEIsQ0FtSXlCc00sQ0FBY3RNLEVBQU1vRixFQUFZeEUsTUFDckRyRCxNQUFLLFNBQUM2SCxHQUFlLE9BQUF3RSxFQUFTNUosRUFBTW9GLE1BQ3BDN0gsTUFBSyxTQUFDNkgsR0FBZSxPQTVEMUIsU0FDRW1ILEVBQ0EzTCwySEFHQSxHQUFvQixLQURkNEwsRUFBT0QsRUFBTUUsaUJBQW1CRixFQUFNRSxpQkFBaUIsT0FBUyxJQUM3RHpOLE9BQ1AsTUFBQSxDQUFBLEVBQU91TixHQUdIRyxFQUFnRCxDQUFBLEVBQzdDN00sRUFBSSxtQkFBRyxPQUFBQSxFQUFJMk0sRUFBS3hOLFFBQ2pCMk4sRUFBTUgsRUFBSzNNLElBQ1grTSxFQUFLRCxFQUFJckMsYUFBYSxnQkFFcEJ1QyxFQUFRTixFQUFNTyxjQUFjRixHQUM1QkcsRUFBYXZKLFNBQVNzSixjQUFjRixHQUNyQ0MsSUFBU0UsR0FBZUwsRUFBY0UsR0FBRyxDQUFBLEVBQUEsSUFFNUN4RixFQUFBc0YsRUFBY1IsRUFBQVUsRUFBYSxDQUFBLEVBQUE1RCxFQUFVK0QsRUFBWW5NLEdBQVMsTUFMeEQsQ0FBQSxFQUFBLElBSHVCLENBQUEsRUFBQSxVQVF6QndHLEVBQUE4RSxHQUFxQnZDLEVBQTBDMUwsK0JBUnBDNEIsaUJBY2pDLElBRE1tTixFQUFRaEosT0FBT2lKLE9BQU9QLElBQ2xCMU4sT0FBUSxDQWFoQixJQVpNa08sRUFBSyxnQ0FDTGpLLEVBQU1PLFNBQVNDLGdCQUFnQnlKLEVBQUksUUFDckN2SixhQUFhLFFBQVN1SixHQUMxQmpLLEVBQUlzQixNQUFNNEksU0FBVyxXQUNyQmxLLEVBQUlzQixNQUFNeEQsTUFBUSxJQUNsQmtDLEVBQUlzQixNQUFNdEQsT0FBUyxJQUNuQmdDLEVBQUlzQixNQUFNNkksU0FBVyxTQUNyQm5LLEVBQUlzQixNQUFNOEksUUFBVSxPQUVkQyxFQUFPOUosU0FBU0MsZ0JBQWdCeUosRUFBSSxRQUMxQ2pLLEVBQUlXLFlBQVkwSixHQUVQek4sRUFBSSxFQUFHQSxFQUFJbU4sRUFBTWhPLE9BQVFhLElBQ2hDeU4sRUFBSzFKLFlBQVlvSixFQUFNbk4sSUFHekIwTSxFQUFNM0ksWUFBWVgsRUFDbkIsQ0FFRCxNQUFBLENBQUEsRUFBT3NKLFNBQ1IsQ0FleUJnQixDQUFpQm5JLEVBQVl4RSxFQUFRLEtBUDNELENBQUEsRUFBTyxXQVFWLENDNU9ELElBQU00TSxFQUFZLDZCQUNaQyxFQUF3Qiw4Q0FDeEJDLEVBQWlCLHFEQW1CakIsU0FBZ0JDLEVBQ3BCbEosRUFDQW1KLEVBQ0FDLEVBQ0FqTixFQUNBa04seUdBTU0sNkJBSEVDLEVBQWNGLEVMaENSLFNBQVd0TCxFQUFheUwsR0FFdEMsR0FBSXpMLEVBQUlnRSxNQUFNLGlCQUNaLE9BQU9oRSxFQUlULEdBQUlBLEVBQUlnRSxNQUFNLFNBQ1osT0FBT2xHLE9BQU80TixTQUFTQyxTQUFXM0wsRUFJcEMsR0FBSUEsRUFBSWdFLE1BQU0sYUFDWixPQUFPaEUsRUFHVCxJQUFNNEwsRUFBTTNLLFNBQVM0SyxlQUFlQyxxQkFDOUJDLEVBQU9ILEVBQUk1SSxjQUFjLFFBQ3pCZ0osRUFBSUosRUFBSTVJLGNBQWMsS0FXNUIsT0FUQTRJLEVBQUlLLEtBQUs1SyxZQUFZMEssR0FDckJILEVBQUl6USxLQUFLa0csWUFBWTJLLEdBRWpCUCxJQUNGTSxFQUFLRyxLQUFPVCxHQUdkTyxFQUFFRSxLQUFPbE0sRUFFRmdNLEVBQUVFLElBQ1gsQ0tFa0NDLENBQVdkLEVBQWFDLEdBQVdELEVBQzNENUYsRUFBYzNCLEVBQVl1SCxHQUM1QmhGLFNBQ0FrRixFQUNjLENBQUEsRUFBTUEsRUFBa0JDLElBRHJCLENBQUEsRUFBQSxpQkFDYnJKLEVBQVUwQyxFQUFvQ25KLE9BQ3BEMkssRUFBVS9CLEVBQVluQyxFQUFTc0QsZ0JBRXJCLE1BQU0sQ0FBQSxFQUFBRixFQUFrQmlHLEVBQWEvRixFQUFhcEgsV0FBNURnSSxFQUFVeEIsbUJBRVosS0FBQSxFQUFBLE1BQUEsQ0FBQSxFQUFPM0MsRUFBUWhFLFNBbENGOEIsRUFrQ2tCcUwsRUFoQzNCZSxFQUFVcE0sRUFBSTlCLFFBQVEsMkJBQTRCLFFBQ2pELElBQUltTyxPQUFPLGtCQUFBeFAsT0FBaUJ1UCxFQUFvQixnQkFBRSxNQStCVixLQUFBdlAsT0FBS3dKLEVBQU8scUNBSTNELEtBQUEsRUFBQSxNQUFBLENBQUEsRUFBT25FLEdBdENULElBQWlCbEMsRUFFVG9NLE9BcUNQLENBdUJLLFNBQVVFLEVBQVl0TSxHQUMxQixPQUFrQyxJQUEzQkEsRUFBSXFFLE9BQU80RyxFQUNwQixVQUVzQnNCLEVBQ3BCckssRUFDQXVKLEVBQ0FwTiw4RUFFQSxPQUFLaU8sRUFBWXBLLElBSVhzSyxFQWxDUixTQUNFQyxFQUNBNUgsR0FBRSxJQUFBNkgsRUFBbUI3SCxFQUFBNkgsb0JBRXJCLE9BQVFBLEVBRUpELEVBQUl2TyxRQUFRaU4sR0FBZ0IsU0FBQ25ILEdBRTNCLE9BQWEsQ0FDTCxJQUFBYSxFQUFrQnFHLEVBQXNCakgsS0FBS0QsSUFBVSxHQUF0RHhELEVBQUdxRSxFQUFBLEdBQUk4SCxPQUNkLElBQUtBLEVBQ0gsTUFBTyxHQUdULEdBQUlBLElBQVdELEVBQ2IsTUFBTyxRQUFBN1AsT0FBUTJELEVBQUcsSUFFckIsQ0FDSCxJQWJBaU0sQ0FjTixDQWUwQkcsQ0FBMEIxSyxFQUFTN0QsR0FDckR3TyxFQXRFRixTQUFvQjNLLEdBQ3hCLElBQU0ySyxFQUFpQixHQU92QixPQUxBM0ssRUFBUWhFLFFBQVErTSxHQUFXLFNBQUM2QixFQUFLQyxFQUFXL00sR0FFMUMsT0FEQTZNLEVBQUtuUSxLQUFLc0QsR0FDSDhNLENBQ1QsSUFFT0QsRUFBSzNELFFBQU8sU0FBQ2xKLEdBQVEsT0FBQ29FLEVBQVVwRSxFQUFYLEdBQzlCLENBNkRlZ04sQ0FBVVIsR0FDdkIsQ0FBQSxFQUFPSyxFQUFLakQsUUFDVixTQUFDQyxFQUFVN0osR0FDVCxPQUFBNkosRUFBUzdPLE1BQUssU0FBQ2lTLEdBQVEsT0FBQTdCLEVBQU02QixFQUFLak4sRUFBS3lMLEVBQVNwTixFQUFRLEdBQUMsR0FDM0RoRSxRQUFRQyxRQUFRa1MsTUFSaEIsQ0FBQSxFQUFPdEssUUFVVixDQ3JGRCxTQUFlZ0wsRUFDYnJLLEVBQ0F4RSwyR0FHSSxPQURFOE8sVUFBYXRJLEVBQUFoQyxFQUFXYiw0QkFBT2hFLGlCQUFpQixlQUU1QixDQUFBLEVBQUF1TyxFQUFlWSxFQUFZLEtBQU05TyxJQUQ3QyxDQUFBLEVBQUEsVUFDTitPLEVBQVl6RCxFQUErQ2pPLE9BQ2pFbUgsRUFBV2IsTUFBTWlHLFlBQ2YsYUFDQW1GLEVBQ0F2SyxFQUFXYixNQUFNTyxvQkFBb0IsZ0RBRzFDLENBRUQsU0FBZThLLEVBQ2J4SyxFQUNBeEUseUdBSUEsT0FGTWlQLEVBQWlCaE0sRUFBb0J1QixFQUFZMEsscUJBR2hDbkosRUFBVXZCLEVBQVdyQyxNQUV4Q2MsRUFBb0J1QixFQUFZMkssbUJBQy9CcEosRUFBVXZCLEVBQVdxSixLQUFLdUIsVUFNekJDLEVBQVUsSUFBSXJULFNBQVEsU0FBQ0MsR0FDM0J1SSxFQUFXekMsT0FBUzlGLEVBQ3BCdUksRUFBV3hDLFFBQVUvRixFQUVyQixJQUFNcVQsRUFBUTlLLEVBQ1Y4SyxFQUFNeE4sU0FDUndOLEVBQU14TixPQUFTN0YsR0FHSyxTQUFsQnFULEVBQU1DLFVBQ1JELEVBQU1DLFFBQVUsUUFFcEIsSUFJc0IsQ0FBQSxFQUFBckksRUFGaEJ2RixFQUFNc04sRUFBaUJ6SyxFQUFXckMsSUFBTXFDLEVBQVdxSixLQUFLdUIsUUFFakIzSixFQUFZOUQsR0FBTTNCLEtBbkJ2RCxDQUFBLFVBb0JSLE9BRE1nSSxFQUFVeEIsRUFBdURuSixTQUMzQyxLQUFaMkssR0FFWmlILEdBQ0Z6SyxFQUFXZ0wsT0FBUyxHQUNwQmhMLEVBQVdyQyxJQUFNNkYsR0FFakJ4RCxFQUFXcUosS0FBS3VCLFFBQVVwSCxFQUc1QixDQUFBLEVBQU1xSCxJQVRnQyxDQUFBLGlCQVN0QzdJLEVBQUFuSixpQkFDRCxDQUVELFNBQWVvUyxFQUNiakwsRUFDQXhFLHFHQUlBLE9BRk13SyxFQUFXMUwsRUFBcUIwRixFQUFXNEcsWUFDM0NzRSxFQUFZbEYsRUFBU3hHLEtBQUksU0FBQzBHLEdBQVUsT0FBQWlGLEVBQVlqRixFQUFPMUssRUFBbkIsSUFDMUMsQ0FBQSxFQUFNaEUsUUFBUTRULElBQUlGLEdBQVcvUyxNQUFLLFdBQU0sT0FBQTZILENBQUEsbUJBQXhDZ0MsRUFBQW5KLGlCQUNELENBRXFCLFNBQUFzUyxFQUNwQm5MLEVBQ0F4RSw2RkFFSSxPQUFBaUQsRUFBb0J1QixFQUFZeUUsU0FDbEMsQ0FBQSxFQUFNNEYsRUFBZ0JySyxFQUFZeEUsSUFEUSxDQUFBLEVBQUEsVUFFMUMsT0FEQXdHLEVBQUFuSixPQUNBLENBQUEsRUFBTTJSLEVBQWV4SyxFQUFZeEUsV0FDakMsT0FEQXdHLEVBQUFuSixPQUNBLENBQUEsRUFBTW9TLEVBQWNqTCxFQUFZeEUsV0FBaEN3RyxFQUFBbkosd0NBRUgsQ0MxRUQsSUFBTXdTLEVBQThDLENBQUEsRUFFcEQsU0FBZUMsRUFBU25PLHFHQUV0QixPQUFhLE9BRFRzRixFQUFRNEksRUFBY2xPLElBRXhCLENBQUEsRUFBT3NGLEdBR0csQ0FBQSxFQUFNWCxNQUFNM0UsV0FDUixNQUFBLENBQUEsRUFESjZFLEVBQWdCbkosT0FDRjBTLGVBSzFCLE9BTE1sTSxFQUFVMkMsRUFBZ0JuSixPQUNoQzRKLEVBQVEsQ0FBRXRGLElBQUdBLEVBQUVrQyxRQUFPQSxHQUV0QmdNLEVBQWNsTyxHQUFPc0YsRUFFckIsQ0FBQSxFQUFPQSxTQUNSLENBRUQsU0FBZStJLEVBQVdDLEVBQWdCalEseUZBb0J4QyxPQW5CSTZELEVBQVVvTSxFQUFLcE0sUUFDYnFNLEVBQVcsOEJBQ1hDLEVBQVd0TSxFQUFROEIsTUFBTSxrQkFBb0IsR0FDN0N5SyxFQUFZRCxFQUFTbk0sS0FBSSxTQUFPcU0sR0FBVyxPQUFBMVUsRUFBQTJVLE9BQUEsT0FBQSxHQUFBLDRDQU0vQyxPQUxJM08sRUFBTTBPLEVBQUl4USxRQUFRcVEsRUFBVSxPQUN2QkssV0FBVyxjQUNsQjVPLEVBQU0sSUFBSTZPLElBQUk3TyxFQUFLc08sRUFBS3RPLEtBQUtrTSxNQUd4QixDQUFBLEVBQUExSCxFQUNMeEUsRUFDQTNCLEVBQVE2SCxrQkFDUixTQUFDckIsR0FBRSxJQUFBL0osRUFBTStKLEVBQUEvSixPQUVQLE9BREFvSCxFQUFVQSxFQUFRaEUsUUFBUXdRLEVBQUssT0FBTzdSLE9BQUEvQixFQUFTLE1BQ3hDLENBQUM0VCxFQUFLNVQsRUFDZCxPQUVKLEdBQUEsSUFFRCxDQUFBLEVBQU9ULFFBQVE0VCxJQUFJUSxHQUFXelQsTUFBSyxXQUFNLE9BQUFrSCxDQUFBLFVBQzFDLENBRUQsU0FBUzRNLEVBQVNDLEdBQ2hCLEdBQWMsTUFBVkEsRUFDRixNQUFPLEdBZVQsSUFaQSxJQUFNalUsRUFBbUIsR0FHckJvSCxFQUFVNk0sRUFBTzdRLFFBRkMsdUJBRXNCLElBR3RDOFEsRUFBaUIsSUFBSTNDLE9BQ3pCLG1EQUNBLFFBSVcsQ0FFWCxHQUFnQixRQURWNEMsRUFBVUQsRUFBZS9LLEtBQUsvQixJQUVsQyxNQUVGcEgsRUFBTzRCLEtBQUt1UyxFQUFRLEdBQ3JCLENBQ0QvTSxFQUFVQSxFQUFRaEUsUUFBUThRLEVBQWdCLElBVzFDLElBVEEsSUFBTUUsRUFBYyx5Q0FNZEMsRUFBZSxJQUFJOUMsT0FIdkIsNkdBR2dELFFBR3JDLENBQ1gsSUFBSTRDLEVBQ0osR0FBZ0IsUUFEWkEsRUFBVUMsRUFBWWpMLEtBQUsvQixJQUNULENBRXBCLEdBQWdCLFFBRGhCK00sRUFBVUUsRUFBYWxMLEtBQUsvQixJQUUxQixNQUVBZ04sRUFBWUUsVUFBWUQsRUFBYUMsU0FFeEMsTUFDQ0QsRUFBYUMsVUFBWUYsRUFBWUUsVUFFdkN0VSxFQUFPNEIsS0FBS3VTLEVBQVEsR0FDckIsQ0FFRCxPQUFPblUsQ0FDVCxDQUVBLFNBQWV1VSxFQUNiQyxFQUNBalIsOEVBNkRBLE9BM0RNa1IsRUFBc0IsR0FDdEJ4QixFQUFzQyxHQUc1Q3VCLEVBQVk1SCxTQUFRLFNBQUM4SCxHQUNuQixHQUFJLGFBQWNBLEVBQ2hCLElBQ0VyUyxFQUFpQnFTLEVBQU1DLFVBQVksSUFBSS9ILFNBQVEsU0FBQ2dJLEVBQU1DLEdBQ3BELEdBQUlELEVBQUt2USxPQUFTeVEsUUFBUUMsWUFBYSxDQUNyQyxJQUFJQyxFQUFjSCxFQUFRLEVBRXBCOUYsRUFBV3NFLEVBREp1QixFQUF1QnhELE1BRWpDbFIsTUFBSyxTQUFDK1UsR0FBYSxPQUFBMUIsRUFBVzBCLEVBQVUxUixNQUN4Q3JELE1BQUssU0FBQ2tILEdBQ0wsT0FBQTRNLEVBQVM1TSxHQUFTd0YsU0FBUSxTQUFDc0ksR0FDekIsSUFDRVIsRUFBTVMsV0FDSkQsRUFDQUEsRUFBS3BCLFdBQVcsV0FDWGtCLEdBQWUsRUFDaEJOLEVBQU1DLFNBQVNoVCxPQU90QixDQUxDLE1BQU8ySSxHQUtSLENBQ0gsR0FkQSxJQWdCRDhLLE9BQU0sV0FFUCxJQUVGbkMsRUFBVXJSLEtBQUttTixFQUNoQixDQUNILEdBbUJELENBbEJDLE1BQU9qUCxHQUNQLElBQU11VixFQUNKYixFQUFZeEcsTUFBSyxTQUFDa0QsR0FBTSxPQUFVLE1BQVZBLEVBQUVFLElBQUYsS0FBbUJqTCxTQUFTcU8sWUFBWSxHQUNoRCxNQUFkRSxFQUFNdEQsTUFDUjZCLEVBQVVyUixLQUNSeVIsRUFBU3FCLEVBQU10RCxNQUNabFIsTUFBSyxTQUFDK1UsR0FBYSxPQUFBMUIsRUFBVzBCLEVBQVUxUixNQUN4Q3JELE1BQUssU0FBQ2tILEdBQ0wsT0FBQTRNLEVBQVM1TSxHQUFTd0YsU0FBUSxTQUFDc0ksR0FDekJHLEVBQU9GLFdBQVdELEVBQU1SLEVBQU1DLFNBQVNoVCxPQUN6QyxHQUZBLElBSUR5VCxPQUFNLFdBRU4sSUFJUixDQUVMLElBRU8sQ0FBQSxFQUFBN1YsUUFBUTRULElBQUlGLEdBQVcvUyxNQUFLLFdBaUJqQyxPQWZBc1UsRUFBWTVILFNBQVEsU0FBQzhILEdBQ25CLEdBQUksYUFBY0EsRUFDaEIsSUFDRXJTLEVBQXNCcVMsRUFBTUMsVUFBWSxJQUFJL0gsU0FBUSxTQUFDZ0ksR0FDbkRILEVBQUk3UyxLQUFLZ1QsRUFDWCxHQU1ELENBTEMsTUFBTzlVLEdBS1IsQ0FFTCxJQUVPMlUsQ0FDUixVQUNGLENBRUQsU0FBU2EsRUFBZ0JYLEdBQ3ZCLE9BQU9BLEVBQ0p2RyxRQUFPLFNBQUM4RyxHQUFTLE9BQUFBLEVBQUs3USxPQUFTeVEsUUFBUVMsa0JBQ3ZDbkgsUUFBTyxTQUFDOEcsR0FBUyxPQUFBMUQsRUFBWTBELEVBQUtoTyxNQUFNaEUsaUJBQWlCLE9BQU8sR0FDckUsQ0FFQSxTQUFlc1MsRUFDYjdTLEVBQ0FZLDZGQUVBLEdBQTBCLE1BQXRCWixFQUFLRyxjQUNQLE1BQU0sSUFBSW1ILE1BQU0sNkNBSUQsTUFBQSxDQUFBLEVBQU1zSyxFQURIbFMsRUFBdUJNLEVBQUtHLGNBQWMwUixhQUNkalIsV0FFaEQsTUFBQSxDQUFBLEVBQU8rUixFQUZVdkwsRUFBdUNuSixlQUd6RCxDQUVxQixTQUFBNlUsRUFDcEI5UyxFQUNBWSw0RkFFYyxLQUFBLEVBQUEsTUFBQSxDQUFBLEVBQU1pUyxFQUFrQjdTLEVBQU1ZLFdBQzNCLE9BRFhtUyxFQUFRM0wsRUFBc0NuSixPQUM3QixDQUFBLEVBQUFyQixRQUFRNFQsSUFDN0J1QyxFQUFNbk8sS0FBSSxTQUFDMk4sR0FDVCxJQUFNdkUsRUFBVXVFLEVBQUtTLGlCQUFtQlQsRUFBS1MsaUJBQWlCdkUsS0FBTyxLQUNyRSxPQUFPSyxFQUFleUQsRUFBSzlOLFFBQVN1SixFQUFTcE4sRUFDOUMsYUFHSCxNQUFBLENBQUEsRUFQaUJ3RyxFQUtoQm5KLE9BRWU4RyxLQUFLLGFBQ3RCLENBRXFCLFNBQUFrTyxFQUNwQjdOLEVBQ0F4RSwyR0FHRSxPQUF3QixNQUF4QkEsRUFBUXNTLGFBQW9CLENBQUEsRUFBQSxJQUN4QjlMLEVBQUF4RyxFQUFRc1Msa0NBQ1J0UyxFQUFRdVMsV0FDUmpILEVBQUEsWUFEaUIsQ0FBQSxFQUFBLEdBRWpCLEtBQUEsRUFBQSxNQUFBLENBQUEsRUFBTTRHLEVBQWMxTixFQUFZeEUsV0FBaENzTCxFQUFBdkMsMEJBRkF2QyxFQUV3QzhFLDBCQUx4Q3pILEVBS3dDMkMsS0FHdENnTSxFQUFZNVAsU0FBUytCLGNBQWMsU0FDbkM4TixFQUFlN1AsU0FBU3lCLGVBQWVSLEdBRTdDMk8sRUFBVXhQLFlBQVl5UCxHQUVsQmpPLEVBQVdrTyxXQUNibE8sRUFBV21PLGFBQWFILEVBQVdoTyxFQUFXa08sWUFFOUNsTyxFQUFXeEIsWUFBWXdQLGNBRzVCLENDdk9xQixTQUFBSSxFQUNwQnhULEVBQ0FZLGVBQUEsSUFBQUEsSUFBQUEsRUFBcUIsQ0FBQSxrR0FHRCxPQURkd0csRUFBb0IxRyxFQUFhVixFQUFNWSxHQUFyQ0csRUFBS3FHLEVBQUFyRyxNQUFFRSxFQUFNbUcsRUFBQW5HLE9BQ0ssQ0FBQSxFQUFBK0gsRUFBVWhKLEVBQU1ZLEdBQVMsV0FDbkQsTUFBQSxDQUFBLEVBQU1xUyxFQURBN04sRUFBYzhHLEVBQUFqTyxPQUNZMkMsV0FDaEMsT0FEQXNMLEVBQUFqTyxPQUNBLENBQUEsRUFBTXNTLEVBQVluTCxFQUFZeEUsV0FFZCxPQUZoQnNMLEVBQUFqTyxPQ25CYyxTQUNkK0IsRUFDQVksR0FFUSxJQUFBMkQsRUFBVXZFLEVBQUl1RSxNQUVsQjNELEVBQVE2UyxrQkFDVmxQLEVBQU1rUCxnQkFBa0I3UyxFQUFRNlMsaUJBRzlCN1MsRUFBUUcsUUFDVndELEVBQU14RCxNQUFRLEdBQUEzQixPQUFHd0IsRUFBUUcsYUFHdkJILEVBQVFLLFNBQ1ZzRCxFQUFNdEQsT0FBUyxHQUFBN0IsT0FBR3dCLEVBQVFLLGNBRzVCLElBQU15UyxFQUFTOVMsRUFBUTJELE1BQ1QsTUFBVm1QLEdBQ0YxUCxPQUFPMlAsS0FBS0QsR0FBUXpKLFNBQVEsU0FBQzlCLEdBQzNCNUQsRUFBTTRELEdBQU91TCxFQUFPdkwsRUFDdEIsR0FJSixDRE5FeUwsQ0FBV3hPLEVBQVl4RSxHQUNELENBQUEsRUFBQTBDLEVBQWM4QixFQUFZckUsRUFBT0UsV0FDdkQsTUFBQSxDQUFBLEVBRGdCaUwsRUFBOENqTyxjQUUvRCxDQUVxQixTQUFBNFYsRUFDcEI3VCxFQUNBWSxlQUFBLElBQUFBLElBQUFBLEVBQXFCLENBQUEsNEdBR1QsT0FETndHLEVBQW9CMUcsRUFBYVYsRUFBTVksR0FBckNHLEVBQUtxRyxFQUFBckcsTUFBRUUsRUFBTW1HLEVBQUFuRyxPQUNULENBQUEsRUFBTXVTLEVBQU14VCxFQUFNWSxXQUNsQixNQUFBLENBQUEsRUFBTTBCLEVBRE40SixFQUEwQmpPLGdCQXlCdEMsT0F4Qk11RSxFQUFNMEosRUFBc0JqTyxPQUU1QnVELEVBQVNnQyxTQUFTK0IsY0FBYyxVQUNoQ3VPLEVBQVV0UyxFQUFPNkgsV0FBVyxNQUM1QjBLLEVBQVFuVCxFQUFRb1QsdUJSd0R0QixJQUFJRCxFQUVBRSxFQUNKLElBQ0VBLEVBQWdCaE4sT0FHakIsQ0FGQyxNQUFPOUosR0FFUixDQUVELElBQU0rQyxFQUNKK1QsR0FBaUJBLEVBQWNDLElBQzNCRCxFQUFjQyxJQUFJQyxpQkFDbEIsS0FPTixPQU5JalUsSUFDRjZULEVBQVFLLFNBQVNsVSxFQUFLLElBQ2xCbVUsT0FBT0MsTUFBTVAsS0FDZkEsRUFBUSxJQUdMQSxHQUFTMVQsT0FBTzhULGtCQUFvQixDQUM3QyxDUTVFc0NJLEdBQzlCQyxFQUFjNVQsRUFBUTRULGFBQWV6VCxFQUNyQzBULEVBQWU3VCxFQUFRNlQsY0FBZ0J4VCxFQUU3Q08sRUFBT1QsTUFBUXlULEVBQWNULEVBQzdCdlMsRUFBT1AsT0FBU3dULEVBQWVWLEVBRTFCblQsRUFBUThULGVSMEVULFNBQWdDbFQsSUFFbENBLEVBQU9ULE1BQVFPLEdBQ2ZFLEVBQU9QLE9BQVNLLEtBR2RFLEVBQU9ULE1BQVFPLEdBQ2ZFLEVBQU9QLE9BQVNLLEVBRVpFLEVBQU9ULE1BQVFTLEVBQU9QLFFBQ3hCTyxFQUFPUCxRQUFVSyxFQUF1QkUsRUFBT1QsTUFDL0NTLEVBQU9ULE1BQVFPLElBRWZFLEVBQU9ULE9BQVNPLEVBQXVCRSxFQUFPUCxPQUM5Q08sRUFBT1AsT0FBU0ssR0FFVEUsRUFBT1QsTUFBUU8sR0FDeEJFLEVBQU9QLFFBQVVLLEVBQXVCRSxFQUFPVCxNQUMvQ1MsRUFBT1QsTUFBUU8sSUFFZkUsRUFBT1QsT0FBU08sRUFBdUJFLEVBQU9QLE9BQzlDTyxFQUFPUCxPQUFTSyxHQUd0QixDUWpHSXFULENBQXNCblQsR0FFeEJBLEVBQU8rQyxNQUFNeEQsTUFBUSxHQUFHM0IsT0FBQW9WLEdBQ3hCaFQsRUFBTytDLE1BQU10RCxPQUFTLEdBQUc3QixPQUFBcVYsR0FFckI3VCxFQUFRNlMsa0JBQ1ZLLEVBQVFjLFVBQVloVSxFQUFRNlMsZ0JBQzVCSyxFQUFRZSxTQUFTLEVBQUcsRUFBR3JULEVBQU9ULE1BQU9TLEVBQU9QLFNBRzlDNlMsRUFBUXhLLFVBQVU5RyxFQUFLLEVBQUcsRUFBR2hCLEVBQU9ULE1BQU9TLEVBQU9QLFFBRWxELENBQUEsRUFBT08sU0FDUixtQkFxQ3FCLFNBQ3BCeEIsRUFDQVksZUFBQSxJQUFBQSxJQUFBQSxFQUFxQixDQUFBLCtEQUVyQixNQUFBLENBQUEsRUFBT2tTLEVBQWM5UyxFQUFNWSxTQUM1QixXQWRxQixTQUNwQlosRUFDQVksZUFBQSxJQUFBQSxJQUFBQSxFQUFxQixDQUFBLCtFQUVOLEtBQUEsRUFBQSxNQUFBLENBQUEsRUFBTWlULEVBQVM3VCxFQUFNWSxXQUN2QixNQUFBLENBQUEsRUFBTVcsRUFESjZGLEVBQTZCbkosZ0JBRTVDLE1BQUEsQ0FBQSxFQURhbUosRUFBMEJuSixjQUV4Qyx3QkFmcUIsU0FDcEIrQixFQUNBWSxlQUFBLElBQUFBLElBQUFBLEVBQXFCLENBQUEsK0VBRU4sS0FBQSxFQUFBLE1BQUEsQ0FBQSxFQUFNaVQsRUFBUzdULEVBQU1ZLFdBQ3BDLE1BQUEsQ0FBQSxFQURld0csRUFBNkJuSixPQUM5QjZELFVBQVUsYUFBY2xCLEVBQVFlLFNBQVcsVUFDMUQsZ0JBeEJxQixTQUNwQjNCLEVBQ0FZLGVBQUEsSUFBQUEsSUFBQUEsRUFBcUIsQ0FBQSxrR0FHTixPQURUd0csRUFBb0IxRyxFQUFhVixFQUFNWSxHQUFyQ0csRUFBS3FHLEVBQUFyRyxNQUFFRSxFQUFNbUcsRUFBQW5HLE9BQ04sQ0FBQSxFQUFNNFMsRUFBUzdULEVBQU1ZLFdBRXBDLE9BRk1ZLEVBQVMwSyxFQUE2QmpPLE9BRTVDLENBQUEsRUFEWXVELEVBQU82SCxXQUFXLE1BQ25CeUwsYUFBYSxFQUFHLEVBQUcvVCxFQUFPRSxHQUFRNFAsWUFDOUMsVUFFcUIsU0FDcEI3USxFQUNBWSxlQUFBLElBQUFBLElBQUFBLEVBQXFCLENBQUEsK0VBRU4sS0FBQSxFQUFBLE1BQUEsQ0FBQSxFQUFNaVQsRUFBUzdULEVBQU1ZLFdBQ3BDLE1BQUEsQ0FBQSxFQURld0csRUFBNkJuSixPQUM5QjZELG1CQUNmIn0K
